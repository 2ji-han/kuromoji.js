var C1=(J,W,Q)=>{if(J)switch(W){case 1:return new Int8Array(Q);case 2:return new Int16Array(Q);case 4:return new Int32Array(Q);default:throw new RangeError(`Invalid parameter: ${W}`)}switch(W){case 1:return new Uint8Array(Q);case 2:return new Uint16Array(Q);case 4:return new Uint32Array(Q);default:throw new RangeError(`Invalid parameter: ${W}`)}};var K0="\x00",z0=0,u=0,f=-1,o1=new TextEncoder,a6=new TextDecoder;class F0{#J;#Q;#W;constructor(J=1024){this.#J=u+1,this.#Q={signed:!0,bytes:4,array:C1(!0,4,J)},this.#W={signed:!0,bytes:4,array:C1(!0,4,J)},this.#Q.array[u]=1,this.#W.array[u]=u,this.#j(this.#Q.array,u+1,this.#Q.array.length),this.#V(this.#W.array,u+1,this.#W.array.length)}#j(J,W,Q){for(let j=W;j<Q;j++)J[j]=-j+1;if(0<this.#W.array[this.#W.array.length-1]){let j=this.#W.array.length-2;while(0<this.#W.array[j])j--;J[W]=-j}}#V(J,W,Q){for(let j=W;j<Q;j++)J[j]=-j-1}#q(J){let W=J*2,Q=C1(this.#Q.signed,this.#Q.bytes,W);this.#j(Q,this.#Q.array.length,W),Q.set(this.#Q.array),this.#Q.array=Q;let j=C1(this.#W.signed,this.#W.bytes,W);this.#V(j,this.#W.array.length,W),j.set(this.#W.array),this.#W.array=j}getBaseBuffer(){return this.#Q.array}getCheckBuffer(){return this.#W.array}loadBaseBuffer(J){return this.#Q.array=J,this}loadCheckBuffer(J){return this.#W.array=J,this}size(){return Math.max(this.#Q.array.length,this.#W.array.length)}getBase(J){if(this.#Q.array.length-1<J)return-J+1;return this.#Q.array[J]}getCheck(J){if(this.#W.array.length-1<J)return-J-1;return this.#W.array[J]}setBase(J,W){if(this.#Q.array.length-1<J)this.#q(J);this.#Q.array[J]=W}setCheck(J,W){if(this.#W.array.length-1<J)this.#q(J);this.#W.array[J]=W}setFirstUnusedNode(J){this.#J=J}getFirstUnusedNode(){return this.#J}shrink(){let J=Math.max(this.#Q.array.length,this.#W.array.length)-1;while(0<=this.#W.array[J])J--;this.#Q.array=this.#Q.array.subarray(0,J+2),this.#W.array=this.#W.array.subarray(0,J+2)}calc(){let J=0,W=this.#W.array.length;for(let Q=0;Q<W;Q++)if(this.#W.array[Q]<0)J++;return{all:W,unused:J,efficiency:(W-J)/W}}dump(){let J="",W="";for(let Q of this.#Q.array)J+=` ${Q}`;for(let Q of this.#W.array)W+=` ${Q}`;return console.log(`base:${J}`),console.log(`check:${W}`),`base:${J} check:${W}`}}class r0{#J;#Q;constructor(J=1024){this.#J=new F0(J),this.#Q=[]}append(J,W){return this.#Q.push({k:J,v:W}),this}build(J=this.#Q,W=!1){if(J==null)return new i1(this.#J);let Q=J.map((j)=>{return{k:o1.encode(j.k+K0),v:j.v}});if(W)this.#Q=Q;else this.#Q=Q.sort((j,V)=>{let q=j.k,G=V.k,P=Math.min(q.length,G.length);for(let U=0;U<P;U++){if(q[U]===G[U])continue;return q[U]-G[U]}return q.length-G.length});return this.#W(u,0,0,this.#Q.length),new i1(this.#J)}#W(J,W,Q,j){let V=this.#j(W,Q,j),q=this.#q(V);this.#V(J,V,q);for(let G=0;G<V.length;G=G+3){let P=V[G];if(P===z0)continue;let U=V[G+1],X=V[G+2],Y=q+P;this.#W(Y,W+1,U,X)}}#j(J,W,Q){let j=this.#Q[W].k[J],V=new Int32Array(Q*3),q=0;V[q++]=Number.parseInt(`${j}`),V[q++]=W;let G=W,P=W;for(;G<W+Q;G++){let U=this.#Q[G].k[J];if(j!==U)V[q++]=G-P,V[q++]=Number.parseInt(`${U}`),V[q++]=G,j=U,P=G}return V[q++]=G-P,V=V.subarray(0,q),V}#V(J,W,Q){let j=this.#J;j.setBase(J,Q);for(let V=0;V<W.length;V=V+3){let q=W[V],G=Q+q,P=-j.getBase(G),U=-j.getCheck(G);if(G!==j.getFirstUnusedNode())j.setCheck(P,-U);else j.setFirstUnusedNode(U);j.setBase(U,-P);let X=J;if(j.setCheck(G,X),q===z0){let Y=W[V+1],F=this.#Q[Y].v;if(F==null)F=0;let z=-F-1;j.setBase(G,z)}}}#q(J){let W=this.#J,Q,j=W.getFirstUnusedNode();while(!0){if(Q=j-J[0],Q<0){j=-W.getCheck(j);continue}let V=!0;for(let q=0;q<J.length;q=q+3){let G=J[q],P=Q+G;if(!this.#G(P)){j=-W.getCheck(j),V=!1;break}}if(V)return Q}}#G(J){let Q=this.#J.getCheck(J);if(J===u)return!1;if(Q<0)return!0;return!1}}class i1{#J;constructor(J){this.#J=J,this.#J.shrink()}contain(J){let W=J,Q=this.#J;W+=K0;let j=o1.encode(W),V=u,q=f;for(let G=0;G<j.length;G++){let P=j[G];if(q=this.#Q(V,P),q===f)return!1;if(Q.getBase(q)<=0)return!0;V=q}return!1}lookup(J){let W=J;W+=K0;let Q=o1.encode(W),j=u,V=f;for(let G=0;G<Q.length;G++){let P=Q[G];if(V=this.#Q(j,P),V===f)return f;j=V}let q=this.#J.getBase(V);if(q<=0)return-q-1;return f}commonPrefixSearch(J){let W=o1.encode(J),Q=[],j=u,V=f;for(let q=0;q<W.length;q++){let G=W[q];if(V=this.#Q(j,G),V!==f){j=V;let P=this.#Q(V,z0);if(P!==f){let U=this.#J.getBase(P),X={k:"",v:0};if(U<=0)X.v=-U-1;X.k=a6.decode(W.slice(0,q+1)),Q.push(X)}continue}break}return Q}#Q(J,W){let Q=this.#J.getBase(J)+W;if(this.#J.getCheck(Q)===J)return Q;return f}size(){return this.#J.size()}calc(){return this.#J.calc()}dump(){return this.#J.dump()}}var I1={builder:(J=1024)=>{return new r0(J)},load:(J,W)=>{let Q=new F0(0);return Q.loadBaseBuffer(J),Q.loadCheckBuffer(W),new i1(Q)}};class _0{forward_dimension;backward_dimension;#J;constructor(J,W){this.forward_dimension=J,this.backward_dimension=W,this.#J=new Int16Array(J*W+2),this.#J[0]=J,this.#J[1]=W}put(J,W,Q){let j=J*this.backward_dimension+W+2;if(this.#J.length<j+1)throw"ConnectionCosts buffer overflow";this.#J[j]=Q}get(J,W){let Q=J*this.backward_dimension+W+2;if(this.#J.length<Q+1)throw"ConnectionCosts buffer overflow";return this.#J[Q]}loadConnectionCosts(J){this.forward_dimension=J[0],this.backward_dimension=J[1],this.#J=J}}var n1=_0;var r6=new TextEncoder,_6=new TextDecoder;class e0{#J;#Q=0;get buffer(){return this.#J}set buffer(J){this.#J=J}get position(){return this.#Q}set position(J){this.#Q=J}constructor(J){if(J===void 0)this.#J=new Uint8Array(1048576),this.#Q=0;else if(typeof J==="number")this.#J=new Uint8Array(J),this.#Q=0;else if(J instanceof Uint8Array)this.#J=J,this.#Q=0;else throw`${typeof J} is invalid parameter type`}size(){return this.#J.length}reallocate(){let J=new Uint8Array(this.#J.length*2);J.set(this.#J),this.#J=J}shrink(){return this.#J=this.#J.subarray(0,this.#Q),this.#J}put(J){if(this.#J.length<this.#Q+1)this.reallocate();if(typeof J==="boolean")this.#J[this.#Q++]=J?1:0;else this.#J[this.#Q++]=J}get(J=null){let W=J;if(W==null)W=this.#Q,this.#Q+=1;if(this.#J.length<W+1)return 0;return this.#J[W]}putShort(J){if(65535<J)throw`${J} is over short value`;let W=255&J,Q=(65280&J)>>8;this.put(W),this.put(Q)}getShort(J){let W=J;if(W==null)W=this.#Q,this.#Q+=2;if(this.#J.length<W+2)return 0;let Q=this.#J[W],V=(this.#J[W+1]<<8)+Q;if(V&32768)V=-(V-1^65535);return V}putInt(J){if(4294967295<J)throw`${J} is over integer value`;let W=255&J,Q=(65280&J)>>8,j=(16711680&J)>>16,V=(4278190080&J)>>24;this.put(W),this.put(Q),this.put(j),this.put(V)}getInt(J=null){let W=J;if(W==null)W=this.#Q,this.#Q+=4;if(this.#J.length<W+4)return 0;let Q=this.#J[W],j=this.#J[W+1],V=this.#J[W+2];return(this.#J[W+3]<<24)+(V<<16)+(j<<8)+Q}readInt(){let J=this.#Q;return this.#Q+=4,this.getInt(J)}putString(J){let W=r6.encode(J);for(let Q of W)this.put(Q);this.put(0)}getString(J=this.#Q){let W=J,Q=[],j;while(W<this.#J.length){if(j=this.get(W++),j===0)break;Q.push(j)}return this.#Q=W,_6.decode(new Uint8Array(Q))}getUtf32(J=null){let W=J;if(W==null)W=this.#Q,this.#Q+=4;if(this.#J.length<W+4)return 0;let Q=this.#J.subarray(W,W+4);return new DataView(Q.buffer).getUint32(0,!1)}getBool(J=null){let W=J;if(W==null)W=this.#Q,this.#Q+=1;if(this.#J.length<W+1)return!1;return Boolean(this.#J[W])}}var c=e0;class t0{dictionary;target_map;pos_buffer;constructor(){this.dictionary=new c(10485760),this.target_map=new Map,this.pos_buffer=new c(10485760)}buildDictionary(J){let W={};for(let Q=0;Q<J.length;Q++){let j=J[Q];if(j.length<4)continue;let V=j[0],q=Number.parseInt(j[1]),G=Number.parseInt(j[2]),P=Number.parseInt(j[3]),U=j.slice(4).join(",");if(!Number.isFinite(q)||!Number.isFinite(G)||!Number.isFinite(P))console.log(j);let X=this.put(q,G,P,V,U);W[X]=V}return this.dictionary.shrink(),this.pos_buffer.shrink(),W}put(J,W,Q,j,V){let q=this.dictionary.position,G=this.pos_buffer.position;return this.dictionary.putShort(J),this.dictionary.putShort(W),this.dictionary.putShort(Q),this.dictionary.putInt(G),this.pos_buffer.putString(`${j},${V}`),q}addMapping(J,W){let Q=this.target_map.get(J);if(Q==null)Q=[];Q.push(W),this.target_map.set(J,Q)}targetMapToBuffer(){let J=new c;J.putInt(Object.keys(this.target_map).length);for(let W in this.target_map){let Q=Number.parseInt(W),j=this.target_map.get(Q);if(!j)continue;let V=j.length;J.putInt(Q),J.putInt(V);for(let q of j)J.putInt(q)}return J.shrink()}loadDictionary(J){return this.dictionary=new c(J),this}loadPosVector(J){return this.pos_buffer=new c(J),this}loadTargetMap(J){let W=new c(J);W.position=0,this.target_map=new Map,W.readInt();while(!0){if(W.buffer.length<W.position+1)break;let Q=W.readInt(),j=W.readInt();for(let V=0;V<j;V++){let q=W.readInt();this.addMapping(Q,q)}}return this}getFeatures(J){if(Number.isNaN(J))return null;let W=this.dictionary.getInt(J+6);return this.pos_buffer.getString(W)}}var K1=t0;class O1{#J;#Q;length;constructor(J){this.#J=J,this.#Q=[];for(let W=0;W<J.length;W++){let Q=J.charAt(W);if(this.#Q.push(W),O1.isSurrogatePair(Q))W++}this.length=this.#Q.length}slice(J){if(this.#Q.length<=J)return"";let W=this.#Q[J];return this.#J.slice(W)}charAt(J){if(this.#J.length<=J)return"";let W=this.#Q[J],Q=this.#Q[J+1];if(Q==null)return this.#J.slice(W);return this.#J.slice(W,Q)}charCodeAt(J){if(this.#Q.length<=J)return Number.NaN;let W=this.#Q[J],Q=this.#J.charCodeAt(W),j;if(Q>=55296&&Q<=56319&&W<this.#J.length){if(j=this.#J.charCodeAt(W+1),j>=56320&&j<=57343)return(Q-55296)*1024+j-56320+65536}return Q}toString(){return this.#J}add(J){return new O1(this.#J+J.#J)}append(J){return new O1(this.#J+J)}static isSurrogatePair(J){let W=J.charCodeAt(0);if(W>=55296&&W<=56319)return!0;return!1}}var a1=O1;class s0{class_id;class_name;is_always_invoke;is_grouping;max_length;constructor(J,W,Q,j,V){this.class_id=J,this.class_name=W,this.is_always_invoke=Q,this.is_grouping=j,this.max_length=V}}var r1=s0;class Z0{#J;#Q;constructor(){this.#J=[],this.#Q=new Map}static load(J){let W=new Z0,Q=[],j=new c(J);while(j.position+1<j.size()){let V=j.getBool(),q=j.getBool(),G=j.getInt(),P=j.getString();Q.push(new r1(Q.length,P,V,q,G))}return W.init(Q),W}init(J){if(J==null)return;let W=J.length;for(let Q=0;Q<W;Q++){let j=J[Q];this.#J[Q]=j,this.#Q.set(j.class_name,Q)}}getCharacterClass(J){return this.#J[J]}lookup(J){let W=this.#Q.get(J);if(W==null)return null;return W}toBuffer(){let J=new c;for(let W=0;W<this.#J.length;W++){let Q=this.#J[W];J.put(Q.is_always_invoke),J.put(Q.is_grouping),J.putInt(Q.max_length),J.putString(Q.class_name)}return J.shrink(),J.buffer}}var _1=Z0;var L0="DEFAULT";class H0{character_category_map;compatible_category_map;invoke_definition_map;constructor(){this.character_category_map=new Uint8Array(65536),this.compatible_category_map=new Uint32Array(65536),this.invoke_definition_map=null}load(J,W,Q){let j=new H0;return j.character_category_map=J,j.compatible_category_map=W,j.invoke_definition_map=_1.load(Q),j}static parseCharCategory(J,W){let Q=W[1],j=Number.parseInt(W[2]),V=Number.parseInt(W[3]),q=Number.parseInt(W[4]);if(!Number.isFinite(j)||j!==0&&j!==1)return console.log(`char.def parse error. INVOKE is 0 or 1 in:${j}`),null;if(!Number.isFinite(V)||V!==0&&V!==1)return console.log(`char.def parse error. GROUP is 0 or 1 in:${V}`),null;if(!Number.isFinite(q)||q<0)return console.log(`char.def parse error. LENGTH is 1 to n:${q}`),null;return new r1(J,Q,j===1,V===1,q)}static parseCategoryMapping(J){let W=Number.parseInt(J[1]);if(!Number.isFinite(W)||W<0||W>65535)console.log(`char.def parse error. CODE is invalid:${W}`);return{start:W,default:J[2],compatible:3<J.length?J.slice(3):[]}}static parseRangeCategoryMapping(J){let W=Number.parseInt(J[1]),Q=Number.parseInt(J[2]);if(!Number.isFinite(W)||W<0||W>65535)console.log(`char.def parse error. CODE is invalid:${W}`);if(!Number.isFinite(Q)||Q<0||Q>65535)console.log(`char.def parse error. CODE is invalid:${Q}`);return{start:W,end:Q,default:J[3],compatible:4<J.length?J.slice(4):[]}}initCategoryMappings(J){if(!this.invoke_definition_map)throw new Error("CharacterDefinition.initCategoryMappings: invoke_definition_map is null");let W=0;if(J!=null){let V=J.length;for(let q=0;q<V;q++){let G=J[q];for(W=G.start;W<=(G.end||G.start);W++){let P=this.invoke_definition_map.lookup(G.default);if(P==null)throw new Error("CharacterDefinition.initCategoryMappings: invoke_definition_map.lookup() returns null");this.character_category_map[W]=P;for(let U=0;U<G.compatible.length;U++){let X=this.compatible_category_map[W],Y=G.compatible[U];if(Y==null)continue;let F=this.invoke_definition_map.lookup(Y);if(F==null)continue;let z=1<<F;X=X|z,this.compatible_category_map[W]=X}}}}let Q=this.invoke_definition_map.lookup(L0);if(Q==null)return;let j=this.compatible_category_map.length;for(W=0;W<j;W++)if(this.character_category_map[W]===0)this.character_category_map[W]=1<<Q}lookupCompatibleCategory(J){let W=[];if(!this.invoke_definition_map)throw new Error("CharacterDefinition.lookupCompatibleCategory: invoke_definition_map is null");let Q=J.charCodeAt(0),j=null;if(Q<this.compatible_category_map.length)j=this.compatible_category_map[Q];if(j==null||j===0)return W;for(let V=0;V<32;V++)if(j<<31-V>>>31===1){let q=this.invoke_definition_map.getCharacterClass(V);if(q==null)continue;W.push(q)}return W}lookup(J){if(!this.invoke_definition_map)throw new Error("CharacterDefinition.lookup: invoke_definition_map is null");let W=null,Q=J.charCodeAt(0);if(a1.isSurrogatePair(J))W=this.invoke_definition_map.lookup(L0);else if(Q<this.character_category_map.length)W=this.character_category_map[Q];if(W==null)W=this.invoke_definition_map.lookup(L0);return this.invoke_definition_map.getCharacterClass(W)}}var W1=H0;class J7 extends K1{#J=null;characterDefinition(J){return this.#J=J,this}lookup(J){if(this.#J==null)throw new Error("CharacterDefinition is not set");return this.#J.lookup(J)}lookupCompatibleCategory(J){if(this.#J==null)throw new Error("CharacterDefinition is not set");return this.#J.lookupCompatibleCategory(J)}loadUnknownDictionaries(J,W,Q,j,V,q){this.loadDictionary(J),this.loadPosVector(W),this.loadTargetMap(Q),this.#J=new W1().load(j,V,q)}}var e1=J7;class Q7{trie;token_info_dictionary;connection_costs;unknown_dictionary;constructor(J,W,Q,j){this.trie=J??I1.builder(0).build([{k:"",v:1}]),this.token_info_dictionary=W??new K1,this.connection_costs=Q??new n1(0,0),this.unknown_dictionary=j??new e1}loadTrie(J,W){return this.trie=I1.load(J,W),this}loadTokenInfoDictionaries(J,W,Q){return this.token_info_dictionary.loadDictionary(J),this.token_info_dictionary.loadPosVector(W),this.token_info_dictionary.loadTargetMap(Q),this}loadConnectionCosts(J){return this.connection_costs.loadConnectionCosts(J),this}loadUnknownDictionaries(J,W,Q,j,V,q){return this.unknown_dictionary.loadUnknownDictionaries(J,W,Q,j,V,q),this}}var t1=Q7;var e6=/^(\w+)\s+(\d)\s+(\d)\s+(\d)/,t6=/^(0x[0-9A-F]{4})(?:\s+([^#\s]+))(?:\s+([^#\s]+))*/,s6=/^(0x[0-9A-F]{4})\.\.(0x[0-9A-F]{4})(?:\s+([^#\s]+))(?:\s+([^#\s]+))*/;class W7{char_def;character_category_definition;category_mapping;constructor(){this.char_def=new W1,this.char_def.invoke_definition_map=new _1,this.character_category_definition=[],this.category_mapping=[]}putLine(J){let W=e6.exec(J);if(W!=null){let V=this.character_category_definition.length,q=W1.parseCharCategory(V,W);if(q==null)return;this.character_category_definition.push(q);return}let Q=t6.exec(J);if(Q!=null){let V=W1.parseCategoryMapping(Q);this.category_mapping.push(V)}let j=s6.exec(J);if(j!=null){let V=W1.parseRangeCategoryMapping(j);this.category_mapping.push(V)}}build(){if(!this.char_def||!this.char_def.invoke_definition_map)throw new Error("No data to build.");return this.char_def.invoke_definition_map.init(this.character_category_definition),this.char_def.initCategoryMappings(this.category_mapping),this.char_def}}var j7=W7;class V7{lines;connection_cost;constructor(){this.lines=0,this.connection_cost=null}putLine(J){if(this.lines===0||!this.connection_cost){let q=J.split(" "),G=Number.parseInt(q[0]),P=Number.parseInt(q[1]);if(G<0||P<0)throw"Parse error of matrix.def";return this.connection_cost=new n1(G,P),this.lines++,this}if(!this.connection_cost)throw"connection_cost is null";let W=J.split(" ");if(W.length!==3)return this;let Q=Number.parseInt(W[0]),j=Number.parseInt(W[1]),V=Number.parseInt(W[2]);if(Q<0||j<0||!Number.isFinite(Q)||!Number.isFinite(j)||this.connection_cost.forward_dimension<=Q||this.connection_cost.backward_dimension<=j)throw"Parse error of matrix.def";return this.connection_cost.put(Q,j,V),this.lines++,this}build(){if(!this.connection_cost)throw"No data to build.";return this.connection_cost}}var q7=V7;class G7{#J;#Q;#W;#j;constructor(){this.#J=[],this.#Q=[],this.#W=new q7,this.#j=new j7}addTokenInfoDictionary(J){let W=J.split(",");return this.#J.push(W),this}putCostMatrixLine(J){return this.#W.putLine(J),this}putCharDefLine(J){return this.#j.putLine(J),this}putUnkDefLine(J){return this.#Q.push(J.split(",")),this}build(){let J=this.buildTokenInfoDictionary();return new t1(J.trie,J.token_info_dictionary,this.#W.build(),this.buildUnknownDictionary())}buildTokenInfoDictionary(){let J=new K1,W=J.buildDictionary(this.#J),Q=this.buildDoubleArray();for(let j in W){let V=W[j],q=Q.lookup(V);J.addMapping(q,Number.parseInt(j))}return{trie:Q,token_info_dictionary:J}}buildUnknownDictionary(){let J=new e1,W=J.buildDictionary(this.#Q),Q=this.#j.build();if(!Q||!Q.invoke_definition_map)throw new Error("CharacterDefinition is not set");J.characterDefinition(Q);for(let j in W){let V=W[j],q=Q.invoke_definition_map.lookup(V);if(!q)throw new Error(`Class name not found: ${V}`);J.addMapping(q,Number.parseInt(j))}return J}buildDoubleArray(){let J=0,W=this.#J.map((j)=>{return{k:j[0],v:J++}});return I1.builder(1048576).build(W)}}var P7=G7;class X7{formatEntry(J,W,Q,j){return{word_id:J,word_type:Q,word_position:W,surface_form:j[0],pos:j[1],pos_detail_1:j[2],pos_detail_2:j[3],pos_detail_3:j[4],conjugated_type:j[5],conjugated_form:j[6],basic_form:j[7],reading:j[8],pronunciation:j[9]}}formatUnknownEntry(J,W,Q,j,V){return{word_id:J,word_type:Q,word_position:W,surface_form:V,pos:j[1],pos_detail_1:j[2],pos_detail_2:j[3],pos_detail_3:j[4],conjugated_type:j[5],conjugated_form:j[6],basic_form:j[7]}}}var Y7=X7;class U7{name;cost;start_pos;length;left_id;right_id;prev;surface_form;shortest_cost;type;constructor(J,W,Q,j,V,q,G,P){this.name=J,this.cost=W,this.start_pos=Q,this.length=j,this.left_id=q,this.right_id=G,this.prev=null,this.surface_form=P,this.shortest_cost=V==="BOS"?0:Number.MAX_VALUE,this.type=V}}var z1=U7;class K7{nodes_end_at;eos_pos;constructor(){this.nodes_end_at=[],this.nodes_end_at[0]=[new z1(-1,0,0,0,"BOS",0,0,"")],this.eos_pos=1}append(J){let W=J.start_pos+J.length-1;if(this.eos_pos<W)this.eos_pos=W;let Q=this.nodes_end_at[W]??[];Q.push(J),this.nodes_end_at[W]=Q}appendEos(){let J=this.nodes_end_at.length;this.eos_pos++,this.nodes_end_at[J]=[new z1(-1,0,this.eos_pos,0,"EOS",0,0,"")]}}var z7=K7;class F7{#J;#Q;#W;constructor(J){this.#J=J.trie,this.#Q=J.token_info_dictionary,this.#W=J.unknown_dictionary}build(J){let W=new z7,Q=new a1(J),j=Q.length;for(let V=0;V<j;V++){let q=Q.slice(V),G=this.#J.commonPrefixSearch(q),P=G.length;for(let Y=0;Y<P;Y++){let F=G[Y].v,z=G[Y].k,K=this.#Q.target_map.get(F);if(!K)throw new Error("TokenInfo dictionary is broken");for(let Z of K){let M=this.#Q.dictionary.getShort(Z),H=this.#Q.dictionary.getShort(Z+2),B=this.#Q.dictionary.getShort(Z+4);W.append(new z1(Z,B,V+1,z.length,"KNOWN",M,H,z))}}let U=q.charAt(0),X=this.#W.lookup(U);if(!G?.length||X.is_always_invoke){let Y=U,F=q.length;if(X.is_grouping&&F>1){let M=X.class_name;for(let H=1;H<F;H++){let B=q.charAt(H);if(this.#W.lookup(B).class_name!==M)break;Y+=B}}let z=this.#W.target_map.get(X.class_id);if(!z)throw new Error("Unknown dictionary is broken");let K=z.length,Z=this.#W.dictionary;for(let M=0;M<K;M++){let H=z[M];W.append(new z1(H,Z.getShort(H+4),V+1,Y.length,"UNKNOWN",Z.getShort(H),Z.getShort(H+2),Y))}}}return W.appendEos(),W}}var Z7=F7;class L7{#J;constructor(J){this.#J=J}search(J){let W=J;return W=this.#Q(W),this.#W(W)}#Q(J){let W=1;for(W=1;W<=J.eos_pos;W++){let Q=J.nodes_end_at[W];if(Q==null)continue;for(let j of Q){let V=Number.MAX_VALUE,q=null,G=j.start_pos-1;if(!(G in J.nodes_end_at))continue;let P=J.nodes_end_at[G];for(let U of P){let X;if(j.left_id==null||U.right_id==null)console.log("Left or right is null"),X=0;else X=this.#J.get(U.right_id,j.left_id);let Y=U.shortest_cost+X+j.cost;if(Y<V)q=U,V=Y}j.prev=q,j.shortest_cost=V}}return J}#W(J){let W=[],j=J.nodes_end_at[J.nodes_end_at.length-1][0].prev;if(j==null)return[];while(j.type!=="BOS"){if(W.push(j),j.prev==null)return[];j=j.prev}return W.reverse()}}var H7=L7;class $0{#J;#Q;#W;#j;#V;constructor(J){this.#J=J.token_info_dictionary,this.#Q=J.unknown_dictionary,this.#W=new Z7(J),this.#j=new H7(J.connection_costs),this.#V=new Y7}static splitByPunctuation(J){let W=J.matchAll(/、|。/g),Q=[],j=0;for(let V of W){let q=V.index;Q.push(J.slice(j,q+1)),j=q+1}if(j<J.length)Q.push(J.slice(j));return Q}tokenize(J){let W=$0.splitByPunctuation(J),Q=[];for(let j of W)this.#q(j,Q);return Q}#q(J,W=[]){let Q=this.#W.build(J),j=this.#j.search(Q),V=W.length>0?W[W.length-1].word_position:0;for(let q of j)W.push(this.#G(q,V));return W}#G(J,W){let Q=J.type==="KNOWN"?this.#J.getFeatures(J.name):this.#Q.getFeatures(J.name),j=Q?Q.split(","):[];if(J.type==="UNKNOWN")return this.#V.formatUnknownEntry(J.name,W+J.start_pos,J.type,j,J.surface_form);return this.#V.formatEntry(J.name,W+J.start_pos,J.type,j)}}var $7=$0;var{create:J8,defineProperty:N7,getOwnPropertyDescriptor:Q8,getOwnPropertyNames:W8,getPrototypeOf:j8}=Object,V8=Object.prototype.hasOwnProperty,q8=(J,W)=>()=>(W||J((W={exports:{}}).exports,W),W.exports),G8=(J,W,Q,j)=>{if(W&&typeof W=="object"||typeof W=="function")for(let V of W8(W))!V8.call(J,V)&&V!==Q&&N7(J,V,{get:()=>W[V],enumerable:!(j=Q8(W,V))||j.enumerable});return J},P8=(J,W,Q)=>(Q=J!=null?J8(j8(J)):{},G8(W||!J||!J.__esModule?N7(Q,"default",{value:J,enumerable:!0}):Q,J)),X8=q8((J,W)=>{function Q(G){if(typeof G!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(G))}function j(G,P){for(var U="",X=0,Y=-1,F=0,z,K=0;K<=G.length;++K){if(K<G.length)z=G.charCodeAt(K);else{if(z===47)break;z=47}if(z===47){if(!(Y===K-1||F===1))if(Y!==K-1&&F===2){if(U.length<2||X!==2||U.charCodeAt(U.length-1)!==46||U.charCodeAt(U.length-2)!==46){if(U.length>2){var Z=U.lastIndexOf("/");if(Z!==U.length-1){Z===-1?(U="",X=0):(U=U.slice(0,Z),X=U.length-1-U.lastIndexOf("/")),Y=K,F=0;continue}}else if(U.length===2||U.length===1){U="",X=0,Y=K,F=0;continue}}P&&(U.length>0?U+="/..":U="..",X=2)}else U.length>0?U+="/"+G.slice(Y+1,K):U=G.slice(Y+1,K),X=K-Y-1;Y=K,F=0}else z===46&&F!==-1?++F:F=-1}return U}function V(G,P){var U=P.dir||P.root,X=P.base||(P.name||"")+(P.ext||"");return U?U===P.root?U+X:U+G+X:X}var q={resolve:function(){for(var G="",P=!1,U,X=arguments.length-1;X>=-1&&!P;X--){var Y;X>=0?Y=arguments[X]:(U===void 0&&(U=process.cwd()),Y=U),Q(Y),Y.length!==0&&(G=Y+"/"+G,P=Y.charCodeAt(0)===47)}return G=j(G,!P),P?G.length>0?"/"+G:"/":G.length>0?G:"."},normalize:function(G){if(Q(G),G.length===0)return".";var P=G.charCodeAt(0)===47,U=G.charCodeAt(G.length-1)===47;return G=j(G,!P),G.length===0&&!P&&(G="."),G.length>0&&U&&(G+="/"),P?"/"+G:G},isAbsolute:function(G){return Q(G),G.length>0&&G.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var G,P=0;P<arguments.length;++P){var U=arguments[P];Q(U),U.length>0&&(G===void 0?G=U:G+="/"+U)}return G===void 0?".":q.normalize(G)},relative:function(G,P){if(Q(G),Q(P),G===P||(G=q.resolve(G),P=q.resolve(P),G===P))return"";for(var U=1;U<G.length&&G.charCodeAt(U)===47;++U);for(var X=G.length,Y=X-U,F=1;F<P.length&&P.charCodeAt(F)===47;++F);for(var z=P.length,K=z-F,Z=Y<K?Y:K,M=-1,H=0;H<=Z;++H){if(H===Z){if(K>Z){if(P.charCodeAt(F+H)===47)return P.slice(F+H+1);if(H===0)return P.slice(F+H)}else Y>Z&&(G.charCodeAt(U+H)===47?M=H:H===0&&(M=0));break}var B=G.charCodeAt(U+H),R=P.charCodeAt(F+H);if(B!==R)break;B===47&&(M=H)}var v="";for(H=U+M+1;H<=X;++H)(H===X||G.charCodeAt(H)===47)&&(v.length===0?v+="..":v+="/..");return v.length>0?v+P.slice(F+M):(F+=M,P.charCodeAt(F)===47&&++F,P.slice(F))},_makeLong:function(G){return G},dirname:function(G){if(Q(G),G.length===0)return".";for(var P=G.charCodeAt(0),U=P===47,X=-1,Y=!0,F=G.length-1;F>=1;--F)if(P=G.charCodeAt(F),P===47){if(!Y){X=F;break}}else Y=!1;return X===-1?U?"/":".":U&&X===1?"//":G.slice(0,X)},basename:function(G,P){if(P!==void 0&&typeof P!="string")throw new TypeError('"ext" argument must be a string');Q(G);var U=0,X=-1,Y=!0,F;if(P!==void 0&&P.length>0&&P.length<=G.length){if(P.length===G.length&&P===G)return"";var z=P.length-1,K=-1;for(F=G.length-1;F>=0;--F){var Z=G.charCodeAt(F);if(Z===47){if(!Y){U=F+1;break}}else K===-1&&(Y=!1,K=F+1),z>=0&&(Z===P.charCodeAt(z)?--z===-1&&(X=F):(z=-1,X=K))}return U===X?X=K:X===-1&&(X=G.length),G.slice(U,X)}else{for(F=G.length-1;F>=0;--F)if(G.charCodeAt(F)===47){if(!Y){U=F+1;break}}else X===-1&&(Y=!1,X=F+1);return X===-1?"":G.slice(U,X)}},extname:function(G){Q(G);for(var P=-1,U=0,X=-1,Y=!0,F=0,z=G.length-1;z>=0;--z){var K=G.charCodeAt(z);if(K===47){if(!Y){U=z+1;break}continue}X===-1&&(Y=!1,X=z+1),K===46?P===-1?P=z:F!==1&&(F=1):P!==-1&&(F=-1)}return P===-1||X===-1||F===0||F===1&&P===X-1&&P===U+1?"":G.slice(P,X)},format:function(G){if(G===null||typeof G!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof G);return V("/",G)},parse:function(G){Q(G);var P={root:"",dir:"",base:"",ext:"",name:""};if(G.length===0)return P;var U=G.charCodeAt(0),X=U===47,Y;X?(P.root="/",Y=1):Y=0;for(var F=-1,z=0,K=-1,Z=!0,M=G.length-1,H=0;M>=Y;--M){if(U=G.charCodeAt(M),U===47){if(!Z){z=M+1;break}continue}K===-1&&(Z=!1,K=M+1),U===46?F===-1?F=M:H!==1&&(H=1):F!==-1&&(H=-1)}return F===-1||K===-1||H===0||H===1&&F===K-1&&F===z+1?K!==-1&&(z===0&&X?P.base=P.name=G.slice(1,K):P.base=P.name=G.slice(z,K)):(z===0&&X?(P.name=G.slice(1,F),P.base=G.slice(1,K)):(P.name=G.slice(z,F),P.base=G.slice(z,K)),P.ext=G.slice(F,K)),z>0?P.dir=G.slice(0,z-1):X&&(P.dir="/"),P},sep:"/",delimiter:":",win32:null,posix:null};q.posix=q,W.exports=q}),v7=P8(X8()),w=v7,Y8=v7,B7=function(J){return J},C7=function(){throw new Error("Not implemented")};w.parse??=C7;Y8.parse??=C7;var F1={resolve:w.resolve.bind(w),normalize:w.normalize.bind(w),isAbsolute:w.isAbsolute.bind(w),join:w.join.bind(w),relative:w.relative.bind(w),toNamespacedPath:B7,dirname:w.dirname.bind(w),basename:w.basename.bind(w),extname:w.extname.bind(w),format:w.format.bind(w),parse:w.parse.bind(w),sep:"/",delimiter:":",win32:void 0,posix:void 0,_makeLong:B7},M7={sep:"\\",delimiter:";",win32:void 0,...F1,posix:F1};F1.win32=M7.win32=M7;F1.posix=F1;var I7=F1;/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */function M1(J){let W=J.length;while(--W>=0)J[W]=0}var U8=0,X6=1,K8=2,z8=3,F8=258,f0=29,m1=256,x1=m1+1+f0,H1=30,c0=19,Y6=2*x1+1,j1=15,B0=16,Z8=7,d0=256,U6=16,K6=17,z6=18,T0=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),V0=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),L8=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),F6=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),H8=512,a=new Array((x1+2)*2);M1(a);var g1=new Array(H1*2);M1(g1);var T1=new Array(H8);M1(T1);var S1=new Array(F8-z8+1);M1(S1);var l0=new Array(f0);M1(l0);var q0=new Array(H1);M1(q0);function M0(J,W,Q,j,V){this.static_tree=J,this.extra_bits=W,this.extra_base=Q,this.elems=j,this.max_length=V,this.has_stree=J&&J.length}var Z6,L6,H6;function N0(J,W){this.dyn_tree=J,this.max_code=0,this.stat_desc=W}var $6=(J)=>{return J<256?T1[J]:T1[256+(J>>>7)]},y1=(J,W)=>{J.pending_buf[J.pending++]=W&255,J.pending_buf[J.pending++]=W>>>8&255},E=(J,W,Q)=>{if(J.bi_valid>B0-Q)J.bi_buf|=W<<J.bi_valid&65535,y1(J,J.bi_buf),J.bi_buf=W>>B0-J.bi_valid,J.bi_valid+=Q-B0;else J.bi_buf|=W<<J.bi_valid&65535,J.bi_valid+=Q},l=(J,W,Q)=>{E(J,Q[W*2],Q[W*2+1])},B6=(J,W)=>{let Q=0;do Q|=J&1,J>>>=1,Q<<=1;while(--W>0);return Q>>>1},$8=(J)=>{if(J.bi_valid===16)y1(J,J.bi_buf),J.bi_buf=0,J.bi_valid=0;else if(J.bi_valid>=8)J.pending_buf[J.pending++]=J.bi_buf&255,J.bi_buf>>=8,J.bi_valid-=8},B8=(J,W)=>{let{dyn_tree:Q,max_code:j}=W,V=W.stat_desc.static_tree,q=W.stat_desc.has_stree,G=W.stat_desc.extra_bits,P=W.stat_desc.extra_base,U=W.stat_desc.max_length,X,Y,F,z,K,Z,M=0;for(z=0;z<=j1;z++)J.bl_count[z]=0;Q[J.heap[J.heap_max]*2+1]=0;for(X=J.heap_max+1;X<Y6;X++){if(Y=J.heap[X],z=Q[Q[Y*2+1]*2+1]+1,z>U)z=U,M++;if(Q[Y*2+1]=z,Y>j)continue;if(J.bl_count[z]++,K=0,Y>=P)K=G[Y-P];if(Z=Q[Y*2],J.opt_len+=Z*(z+K),q)J.static_len+=Z*(V[Y*2+1]+K)}if(M===0)return;do{z=U-1;while(J.bl_count[z]===0)z--;J.bl_count[z]--,J.bl_count[z+1]+=2,J.bl_count[U]--,M-=2}while(M>0);for(z=U;z!==0;z--){Y=J.bl_count[z];while(Y!==0){if(F=J.heap[--X],F>j)continue;if(Q[F*2+1]!==z)J.opt_len+=(z-Q[F*2+1])*Q[F*2],Q[F*2+1]=z;Y--}}},M6=(J,W,Q)=>{let j=new Array(j1+1),V=0,q,G;for(q=1;q<=j1;q++)V=V+Q[q-1]<<1,j[q]=V;for(G=0;G<=W;G++){let P=J[G*2+1];if(P===0)continue;J[G*2]=B6(j[P]++,P)}},M8=()=>{let J,W,Q,j,V,q=new Array(j1+1);Q=0;for(j=0;j<f0-1;j++){l0[j]=Q;for(J=0;J<1<<T0[j];J++)S1[Q++]=j}S1[Q-1]=j,V=0;for(j=0;j<16;j++){q0[j]=V;for(J=0;J<1<<V0[j];J++)T1[V++]=j}V>>=7;for(;j<H1;j++){q0[j]=V<<7;for(J=0;J<1<<V0[j]-7;J++)T1[256+V++]=j}for(W=0;W<=j1;W++)q[W]=0;J=0;while(J<=143)a[J*2+1]=8,J++,q[8]++;while(J<=255)a[J*2+1]=9,J++,q[9]++;while(J<=279)a[J*2+1]=7,J++,q[7]++;while(J<=287)a[J*2+1]=8,J++,q[8]++;M6(a,x1+1,q);for(J=0;J<H1;J++)g1[J*2+1]=5,g1[J*2]=B6(J,5);Z6=new M0(a,T0,m1+1,x1,j1),L6=new M0(g1,V0,0,H1,j1),H6=new M0(new Array(0),L8,0,c0,Z8)},N6=(J)=>{let W;for(W=0;W<x1;W++)J.dyn_ltree[W*2]=0;for(W=0;W<H1;W++)J.dyn_dtree[W*2]=0;for(W=0;W<c0;W++)J.bl_tree[W*2]=0;J.dyn_ltree[d0*2]=1,J.opt_len=J.static_len=0,J.sym_next=J.matches=0},v6=(J)=>{if(J.bi_valid>8)y1(J,J.bi_buf);else if(J.bi_valid>0)J.pending_buf[J.pending++]=J.bi_buf;J.bi_buf=0,J.bi_valid=0},O7=(J,W,Q,j)=>{let V=W*2,q=Q*2;return J[V]<J[q]||J[V]===J[q]&&j[W]<=j[Q]},v0=(J,W,Q)=>{let j=J.heap[Q],V=Q<<1;while(V<=J.heap_len){if(V<J.heap_len&&O7(W,J.heap[V+1],J.heap[V],J.depth))V++;if(O7(W,j,J.heap[V],J.depth))break;J.heap[Q]=J.heap[V],Q=V,V<<=1}J.heap[Q]=j},R7=(J,W,Q)=>{let j,V,q=0,G,P;if(J.sym_next!==0)do if(j=J.pending_buf[J.sym_buf+q++]&255,j+=(J.pending_buf[J.sym_buf+q++]&255)<<8,V=J.pending_buf[J.sym_buf+q++],j===0)l(J,V,W);else{if(G=S1[V],l(J,G+m1+1,W),P=T0[G],P!==0)V-=l0[G],E(J,V,P);if(j--,G=$6(j),l(J,G,Q),P=V0[G],P!==0)j-=q0[G],E(J,j,P)}while(q<J.sym_next);l(J,d0,W)},S0=(J,W)=>{let Q=W.dyn_tree,j=W.stat_desc.static_tree,V=W.stat_desc.has_stree,q=W.stat_desc.elems,G,P,U=-1,X;J.heap_len=0,J.heap_max=Y6;for(G=0;G<q;G++)if(Q[G*2]!==0)J.heap[++J.heap_len]=U=G,J.depth[G]=0;else Q[G*2+1]=0;while(J.heap_len<2)if(X=J.heap[++J.heap_len]=U<2?++U:0,Q[X*2]=1,J.depth[X]=0,J.opt_len--,V)J.static_len-=j[X*2+1];W.max_code=U;for(G=J.heap_len>>1;G>=1;G--)v0(J,Q,G);X=q;do G=J.heap[1],J.heap[1]=J.heap[J.heap_len--],v0(J,Q,1),P=J.heap[1],J.heap[--J.heap_max]=G,J.heap[--J.heap_max]=P,Q[X*2]=Q[G*2]+Q[P*2],J.depth[X]=(J.depth[G]>=J.depth[P]?J.depth[G]:J.depth[P])+1,Q[G*2+1]=Q[P*2+1]=X,J.heap[1]=X++,v0(J,Q,1);while(J.heap_len>=2);J.heap[--J.heap_max]=J.heap[1],B8(J,W),M6(Q,U,J.bl_count)},A7=(J,W,Q)=>{let j,V=-1,q,G=W[1],P=0,U=7,X=4;if(G===0)U=138,X=3;W[(Q+1)*2+1]=65535;for(j=0;j<=Q;j++){if(q=G,G=W[(j+1)*2+1],++P<U&&q===G)continue;else if(P<X)J.bl_tree[q*2]+=P;else if(q!==0){if(q!==V)J.bl_tree[q*2]++;J.bl_tree[U6*2]++}else if(P<=10)J.bl_tree[K6*2]++;else J.bl_tree[z6*2]++;if(P=0,V=q,G===0)U=138,X=3;else if(q===G)U=6,X=3;else U=7,X=4}},D7=(J,W,Q)=>{let j,V=-1,q,G=W[1],P=0,U=7,X=4;if(G===0)U=138,X=3;for(j=0;j<=Q;j++){if(q=G,G=W[(j+1)*2+1],++P<U&&q===G)continue;else if(P<X)do l(J,q,J.bl_tree);while(--P!==0);else if(q!==0){if(q!==V)l(J,q,J.bl_tree),P--;l(J,U6,J.bl_tree),E(J,P-3,2)}else if(P<=10)l(J,K6,J.bl_tree),E(J,P-3,3);else l(J,z6,J.bl_tree),E(J,P-11,7);if(P=0,V=q,G===0)U=138,X=3;else if(q===G)U=6,X=3;else U=7,X=4}},N8=(J)=>{let W;A7(J,J.dyn_ltree,J.l_desc.max_code),A7(J,J.dyn_dtree,J.d_desc.max_code),S0(J,J.bl_desc);for(W=c0-1;W>=3;W--)if(J.bl_tree[F6[W]*2+1]!==0)break;return J.opt_len+=3*(W+1)+5+5+4,W},v8=(J,W,Q,j)=>{let V;E(J,W-257,5),E(J,Q-1,5),E(J,j-4,4);for(V=0;V<j;V++)E(J,J.bl_tree[F6[V]*2+1],3);D7(J,J.dyn_ltree,W-1),D7(J,J.dyn_dtree,Q-1)},C8=(J)=>{let W=4093624447,Q;for(Q=0;Q<=31;Q++,W>>>=1)if(W&1&&J.dyn_ltree[Q*2]!==0)return 0;if(J.dyn_ltree[18]!==0||J.dyn_ltree[20]!==0||J.dyn_ltree[26]!==0)return 1;for(Q=32;Q<m1;Q++)if(J.dyn_ltree[Q*2]!==0)return 1;return 0},g7=!1,I8=(J)=>{if(!g7)M8(),g7=!0;J.l_desc=new N0(J.dyn_ltree,Z6),J.d_desc=new N0(J.dyn_dtree,L6),J.bl_desc=new N0(J.bl_tree,H6),J.bi_buf=0,J.bi_valid=0,N6(J)},C6=(J,W,Q,j)=>{if(E(J,(U8<<1)+(j?1:0),3),v6(J),y1(J,Q),y1(J,~Q),Q)J.pending_buf.set(J.window.subarray(W,W+Q),J.pending);J.pending+=Q},O8=(J)=>{E(J,X6<<1,3),l(J,d0,a),$8(J)},R8=(J,W,Q,j)=>{let V,q,G=0;if(J.level>0){if(J.strm.data_type===2)J.strm.data_type=C8(J);if(S0(J,J.l_desc),S0(J,J.d_desc),G=N8(J),V=J.opt_len+3+7>>>3,q=J.static_len+3+7>>>3,q<=V)V=q}else V=q=Q+5;if(Q+4<=V&&W!==-1)C6(J,W,Q,j);else if(J.strategy===4||q===V)E(J,(X6<<1)+(j?1:0),3),R7(J,a,g1);else E(J,(K8<<1)+(j?1:0),3),v8(J,J.l_desc.max_code+1,J.d_desc.max_code+1,G+1),R7(J,J.dyn_ltree,J.dyn_dtree);if(N6(J),j)v6(J)},A8=(J,W,Q)=>{if(J.pending_buf[J.sym_buf+J.sym_next++]=W,J.pending_buf[J.sym_buf+J.sym_next++]=W>>8,J.pending_buf[J.sym_buf+J.sym_next++]=Q,W===0)J.dyn_ltree[Q*2]++;else J.matches++,W--,J.dyn_ltree[(S1[Q]+m1+1)*2]++,J.dyn_dtree[$6(W)*2]++;return J.sym_next===J.sym_end},D8=I8,g8=C6,k8=R8,w8=A8,x8=O8,T8={_tr_init:D8,_tr_stored_block:g8,_tr_flush_block:k8,_tr_tally:w8,_tr_align:x8},S8=(J,W,Q,j)=>{let V=J&65535|0,q=J>>>16&65535|0,G=0;while(Q!==0){G=Q>2000?2000:Q,Q-=G;do V=V+W[j++]|0,q=q+V|0;while(--G);V%=65521,q%=65521}return V|q<<16|0},E1=S8,y8=()=>{let J,W=[];for(var Q=0;Q<256;Q++){J=Q;for(var j=0;j<8;j++)J=J&1?3988292384^J>>>1:J>>>1;W[Q]=J}return W},E8=new Uint32Array(y8()),h8=(J,W,Q,j)=>{let V=E8,q=j+Q;J^=-1;for(let G=j;G<q;G++)J=J>>>8^V[(J^W[G])&255];return J^-1},T=h8,G1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Y1={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:p8,_tr_stored_block:y0,_tr_flush_block:b8,_tr_tally:t,_tr_align:m8}=T8,{Z_NO_FLUSH:s,Z_PARTIAL_FLUSH:u8,Z_FULL_FLUSH:f8,Z_FINISH:b,Z_BLOCK:k7,Z_OK:S,Z_STREAM_END:w7,Z_STREAM_ERROR:o,Z_DATA_ERROR:c8,Z_BUF_ERROR:C0,Z_DEFAULT_COMPRESSION:d8,Z_FILTERED:l8,Z_HUFFMAN_ONLY:s1,Z_RLE:o8,Z_FIXED:i8,Z_DEFAULT_STRATEGY:n8,Z_UNKNOWN:a8,Z_DEFLATED:X0}=Y1,r8=9,_8=15,e8=8,t8=29,s8=256,E0=s8+1+t8,JJ=30,QJ=19,WJ=2*E0+1,jJ=15,I=3,e=258,i=e+I+1,VJ=32,$1=42,o0=57,h0=69,p0=73,b0=91,m0=103,V1=113,A1=666,y=1,N1=2,P1=3,v1=4,qJ=3,q1=(J,W)=>{return J.msg=G1[W],W},x7=(J)=>{return J*2-(J>4?9:0)},_=(J)=>{let W=J.length;while(--W>=0)J[W]=0},GJ=(J)=>{let W,Q,j,V=J.w_size;W=J.hash_size,j=W;do Q=J.head[--j],J.head[j]=Q>=V?Q-V:0;while(--W);W=V,j=W;do Q=J.prev[--j],J.prev[j]=Q>=V?Q-V:0;while(--W)},PJ=(J,W,Q)=>(W<<J.hash_shift^Q)&J.hash_mask,J1=PJ,h=(J)=>{let W=J.state,Q=W.pending;if(Q>J.avail_out)Q=J.avail_out;if(Q===0)return;if(J.output.set(W.pending_buf.subarray(W.pending_out,W.pending_out+Q),J.next_out),J.next_out+=Q,W.pending_out+=Q,J.total_out+=Q,J.avail_out-=Q,W.pending-=Q,W.pending===0)W.pending_out=0},p=(J,W)=>{b8(J,J.block_start>=0?J.block_start:-1,J.strstart-J.block_start,W),J.block_start=J.strstart,h(J.strm)},D=(J,W)=>{J.pending_buf[J.pending++]=W},R1=(J,W)=>{J.pending_buf[J.pending++]=W>>>8&255,J.pending_buf[J.pending++]=W&255},u0=(J,W,Q,j)=>{let V=J.avail_in;if(V>j)V=j;if(V===0)return 0;if(J.avail_in-=V,W.set(J.input.subarray(J.next_in,J.next_in+V),Q),J.state.wrap===1)J.adler=E1(J.adler,W,V,Q);else if(J.state.wrap===2)J.adler=T(J.adler,W,V,Q);return J.next_in+=V,J.total_in+=V,V},I6=(J,W)=>{let{max_chain_length:Q,strstart:j}=J,V,q,G=J.prev_length,P=J.nice_match,U=J.strstart>J.w_size-i?J.strstart-(J.w_size-i):0,X=J.window,Y=J.w_mask,F=J.prev,z=J.strstart+e,K=X[j+G-1],Z=X[j+G];if(J.prev_length>=J.good_match)Q>>=2;if(P>J.lookahead)P=J.lookahead;do{if(V=W,X[V+G]!==Z||X[V+G-1]!==K||X[V]!==X[j]||X[++V]!==X[j+1])continue;j+=2,V++;do;while(X[++j]===X[++V]&&X[++j]===X[++V]&&X[++j]===X[++V]&&X[++j]===X[++V]&&X[++j]===X[++V]&&X[++j]===X[++V]&&X[++j]===X[++V]&&X[++j]===X[++V]&&j<z);if(q=e-(z-j),j=z-e,q>G){if(J.match_start=W,G=q,q>=P)break;K=X[j+G-1],Z=X[j+G]}}while((W=F[W&Y])>U&&--Q!==0);if(G<=J.lookahead)return G;return J.lookahead},B1=(J)=>{let W=J.w_size,Q,j,V;do{if(j=J.window_size-J.lookahead-J.strstart,J.strstart>=W+(W-i)){if(J.window.set(J.window.subarray(W,W+W-j),0),J.match_start-=W,J.strstart-=W,J.block_start-=W,J.insert>J.strstart)J.insert=J.strstart;GJ(J),j+=W}if(J.strm.avail_in===0)break;if(Q=u0(J.strm,J.window,J.strstart+J.lookahead,j),J.lookahead+=Q,J.lookahead+J.insert>=I){V=J.strstart-J.insert,J.ins_h=J.window[V],J.ins_h=J1(J,J.ins_h,J.window[V+1]);while(J.insert)if(J.ins_h=J1(J,J.ins_h,J.window[V+I-1]),J.prev[V&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=V,V++,J.insert--,J.lookahead+J.insert<I)break}}while(J.lookahead<i&&J.strm.avail_in!==0)},O6=(J,W)=>{let Q=J.pending_buf_size-5>J.w_size?J.w_size:J.pending_buf_size-5,j,V,q,G=0,P=J.strm.avail_in;do{if(j=65535,q=J.bi_valid+42>>3,J.strm.avail_out<q)break;if(q=J.strm.avail_out-q,V=J.strstart-J.block_start,j>V+J.strm.avail_in)j=V+J.strm.avail_in;if(j>q)j=q;if(j<Q&&(j===0&&W!==b||W===s||j!==V+J.strm.avail_in))break;if(G=W===b&&j===V+J.strm.avail_in?1:0,y0(J,0,0,G),J.pending_buf[J.pending-4]=j,J.pending_buf[J.pending-3]=j>>8,J.pending_buf[J.pending-2]=~j,J.pending_buf[J.pending-1]=~j>>8,h(J.strm),V){if(V>j)V=j;J.strm.output.set(J.window.subarray(J.block_start,J.block_start+V),J.strm.next_out),J.strm.next_out+=V,J.strm.avail_out-=V,J.strm.total_out+=V,J.block_start+=V,j-=V}if(j)u0(J.strm,J.strm.output,J.strm.next_out,j),J.strm.next_out+=j,J.strm.avail_out-=j,J.strm.total_out+=j}while(G===0);if(P-=J.strm.avail_in,P){if(P>=J.w_size)J.matches=2,J.window.set(J.strm.input.subarray(J.strm.next_in-J.w_size,J.strm.next_in),0),J.strstart=J.w_size,J.insert=J.strstart;else{if(J.window_size-J.strstart<=P){if(J.strstart-=J.w_size,J.window.set(J.window.subarray(J.w_size,J.w_size+J.strstart),0),J.matches<2)J.matches++;if(J.insert>J.strstart)J.insert=J.strstart}J.window.set(J.strm.input.subarray(J.strm.next_in-P,J.strm.next_in),J.strstart),J.strstart+=P,J.insert+=P>J.w_size-J.insert?J.w_size-J.insert:P}J.block_start=J.strstart}if(J.high_water<J.strstart)J.high_water=J.strstart;if(G)return v1;if(W!==s&&W!==b&&J.strm.avail_in===0&&J.strstart===J.block_start)return N1;if(q=J.window_size-J.strstart,J.strm.avail_in>q&&J.block_start>=J.w_size){if(J.block_start-=J.w_size,J.strstart-=J.w_size,J.window.set(J.window.subarray(J.w_size,J.w_size+J.strstart),0),J.matches<2)J.matches++;if(q+=J.w_size,J.insert>J.strstart)J.insert=J.strstart}if(q>J.strm.avail_in)q=J.strm.avail_in;if(q)u0(J.strm,J.window,J.strstart,q),J.strstart+=q,J.insert+=q>J.w_size-J.insert?J.w_size-J.insert:q;if(J.high_water<J.strstart)J.high_water=J.strstart;if(q=J.bi_valid+42>>3,q=J.pending_buf_size-q>65535?65535:J.pending_buf_size-q,Q=q>J.w_size?J.w_size:q,V=J.strstart-J.block_start,V>=Q||(V||W===b)&&W!==s&&J.strm.avail_in===0&&V<=q)j=V>q?q:V,G=W===b&&J.strm.avail_in===0&&j===V?1:0,y0(J,J.block_start,j,G),J.block_start+=j,h(J.strm);return G?P1:y},I0=(J,W)=>{let Q,j;for(;;){if(J.lookahead<i){if(B1(J),J.lookahead<i&&W===s)return y;if(J.lookahead===0)break}if(Q=0,J.lookahead>=I)J.ins_h=J1(J,J.ins_h,J.window[J.strstart+I-1]),Q=J.prev[J.strstart&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=J.strstart;if(Q!==0&&J.strstart-Q<=J.w_size-i)J.match_length=I6(J,Q);if(J.match_length>=I)if(j=t(J,J.strstart-J.match_start,J.match_length-I),J.lookahead-=J.match_length,J.match_length<=J.max_lazy_match&&J.lookahead>=I){J.match_length--;do J.strstart++,J.ins_h=J1(J,J.ins_h,J.window[J.strstart+I-1]),Q=J.prev[J.strstart&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=J.strstart;while(--J.match_length!==0);J.strstart++}else J.strstart+=J.match_length,J.match_length=0,J.ins_h=J.window[J.strstart],J.ins_h=J1(J,J.ins_h,J.window[J.strstart+1]);else j=t(J,0,J.window[J.strstart]),J.lookahead--,J.strstart++;if(j){if(p(J,!1),J.strm.avail_out===0)return y}}if(J.insert=J.strstart<I-1?J.strstart:I-1,W===b){if(p(J,!0),J.strm.avail_out===0)return P1;return v1}if(J.sym_next){if(p(J,!1),J.strm.avail_out===0)return y}return N1},Z1=(J,W)=>{let Q,j,V;for(;;){if(J.lookahead<i){if(B1(J),J.lookahead<i&&W===s)return y;if(J.lookahead===0)break}if(Q=0,J.lookahead>=I)J.ins_h=J1(J,J.ins_h,J.window[J.strstart+I-1]),Q=J.prev[J.strstart&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=J.strstart;if(J.prev_length=J.match_length,J.prev_match=J.match_start,J.match_length=I-1,Q!==0&&J.prev_length<J.max_lazy_match&&J.strstart-Q<=J.w_size-i){if(J.match_length=I6(J,Q),J.match_length<=5&&(J.strategy===l8||J.match_length===I&&J.strstart-J.match_start>4096))J.match_length=I-1}if(J.prev_length>=I&&J.match_length<=J.prev_length){V=J.strstart+J.lookahead-I,j=t(J,J.strstart-1-J.prev_match,J.prev_length-I),J.lookahead-=J.prev_length-1,J.prev_length-=2;do if(++J.strstart<=V)J.ins_h=J1(J,J.ins_h,J.window[J.strstart+I-1]),Q=J.prev[J.strstart&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=J.strstart;while(--J.prev_length!==0);if(J.match_available=0,J.match_length=I-1,J.strstart++,j){if(p(J,!1),J.strm.avail_out===0)return y}}else if(J.match_available){if(j=t(J,0,J.window[J.strstart-1]),j)p(J,!1);if(J.strstart++,J.lookahead--,J.strm.avail_out===0)return y}else J.match_available=1,J.strstart++,J.lookahead--}if(J.match_available)j=t(J,0,J.window[J.strstart-1]),J.match_available=0;if(J.insert=J.strstart<I-1?J.strstart:I-1,W===b){if(p(J,!0),J.strm.avail_out===0)return P1;return v1}if(J.sym_next){if(p(J,!1),J.strm.avail_out===0)return y}return N1},XJ=(J,W)=>{let Q,j,V,q,G=J.window;for(;;){if(J.lookahead<=e){if(B1(J),J.lookahead<=e&&W===s)return y;if(J.lookahead===0)break}if(J.match_length=0,J.lookahead>=I&&J.strstart>0){if(V=J.strstart-1,j=G[V],j===G[++V]&&j===G[++V]&&j===G[++V]){q=J.strstart+e;do;while(j===G[++V]&&j===G[++V]&&j===G[++V]&&j===G[++V]&&j===G[++V]&&j===G[++V]&&j===G[++V]&&j===G[++V]&&V<q);if(J.match_length=e-(q-V),J.match_length>J.lookahead)J.match_length=J.lookahead}}if(J.match_length>=I)Q=t(J,1,J.match_length-I),J.lookahead-=J.match_length,J.strstart+=J.match_length,J.match_length=0;else Q=t(J,0,J.window[J.strstart]),J.lookahead--,J.strstart++;if(Q){if(p(J,!1),J.strm.avail_out===0)return y}}if(J.insert=0,W===b){if(p(J,!0),J.strm.avail_out===0)return P1;return v1}if(J.sym_next){if(p(J,!1),J.strm.avail_out===0)return y}return N1},YJ=(J,W)=>{let Q;for(;;){if(J.lookahead===0){if(B1(J),J.lookahead===0){if(W===s)return y;break}}if(J.match_length=0,Q=t(J,0,J.window[J.strstart]),J.lookahead--,J.strstart++,Q){if(p(J,!1),J.strm.avail_out===0)return y}}if(J.insert=0,W===b){if(p(J,!0),J.strm.avail_out===0)return P1;return v1}if(J.sym_next){if(p(J,!1),J.strm.avail_out===0)return y}return N1};function d(J,W,Q,j,V){this.good_length=J,this.max_lazy=W,this.nice_length=Q,this.max_chain=j,this.func=V}var D1=[new d(0,0,0,0,O6),new d(4,4,8,4,I0),new d(4,5,16,8,I0),new d(4,6,32,32,I0),new d(4,4,16,16,Z1),new d(8,16,32,32,Z1),new d(8,16,128,128,Z1),new d(8,32,128,256,Z1),new d(32,128,258,1024,Z1),new d(32,258,258,4096,Z1)],UJ=(J)=>{J.window_size=2*J.w_size,_(J.head),J.max_lazy_match=D1[J.level].max_lazy,J.good_match=D1[J.level].good_length,J.nice_match=D1[J.level].nice_length,J.max_chain_length=D1[J.level].max_chain,J.strstart=0,J.block_start=0,J.lookahead=0,J.insert=0,J.match_length=J.prev_length=I-1,J.match_available=0,J.ins_h=0};function KJ(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=X0,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(WJ*2),this.dyn_dtree=new Uint16Array((2*JJ+1)*2),this.bl_tree=new Uint16Array((2*QJ+1)*2),_(this.dyn_ltree),_(this.dyn_dtree),_(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(jJ+1),this.heap=new Uint16Array(2*E0+1),_(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*E0+1),_(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var u1=(J)=>{if(!J)return 1;let W=J.state;if(!W||W.strm!==J||W.status!==$1&&W.status!==o0&&W.status!==h0&&W.status!==p0&&W.status!==b0&&W.status!==m0&&W.status!==V1&&W.status!==A1)return 1;return 0},R6=(J)=>{if(u1(J))return q1(J,o);J.total_in=J.total_out=0,J.data_type=a8;let W=J.state;if(W.pending=0,W.pending_out=0,W.wrap<0)W.wrap=-W.wrap;return W.status=W.wrap===2?o0:W.wrap?$1:V1,J.adler=W.wrap===2?0:1,W.last_flush=-2,p8(W),S},A6=(J)=>{let W=R6(J);if(W===S)UJ(J.state);return W},zJ=(J,W)=>{if(u1(J)||J.state.wrap!==2)return o;return J.state.gzhead=W,S},D6=(J,W,Q,j,V,q)=>{if(!J)return o;let G=1;if(W===d8)W=6;if(j<0)G=0,j=-j;else if(j>15)G=2,j-=16;if(V<1||V>r8||Q!==X0||j<8||j>15||W<0||W>9||q<0||q>i8||j===8&&G!==1)return q1(J,o);if(j===8)j=9;let P=new KJ;return J.state=P,P.strm=J,P.status=$1,P.wrap=G,P.gzhead=null,P.w_bits=j,P.w_size=1<<P.w_bits,P.w_mask=P.w_size-1,P.hash_bits=V+7,P.hash_size=1<<P.hash_bits,P.hash_mask=P.hash_size-1,P.hash_shift=~~((P.hash_bits+I-1)/I),P.window=new Uint8Array(P.w_size*2),P.head=new Uint16Array(P.hash_size),P.prev=new Uint16Array(P.w_size),P.lit_bufsize=1<<V+6,P.pending_buf_size=P.lit_bufsize*4,P.pending_buf=new Uint8Array(P.pending_buf_size),P.sym_buf=P.lit_bufsize,P.sym_end=(P.lit_bufsize-1)*3,P.level=W,P.strategy=q,P.method=Q,A6(J)},FJ=(J,W)=>{return D6(J,W,X0,_8,e8,n8)},ZJ=(J,W)=>{if(u1(J)||W>k7||W<0)return J?q1(J,o):o;let Q=J.state;if(!J.output||J.avail_in!==0&&!J.input||Q.status===A1&&W!==b)return q1(J,J.avail_out===0?C0:o);let j=Q.last_flush;if(Q.last_flush=W,Q.pending!==0){if(h(J),J.avail_out===0)return Q.last_flush=-1,S}else if(J.avail_in===0&&x7(W)<=x7(j)&&W!==b)return q1(J,C0);if(Q.status===A1&&J.avail_in!==0)return q1(J,C0);if(Q.status===$1&&Q.wrap===0)Q.status=V1;if(Q.status===$1){let V=X0+(Q.w_bits-8<<4)<<8,q=-1;if(Q.strategy>=s1||Q.level<2)q=0;else if(Q.level<6)q=1;else if(Q.level===6)q=2;else q=3;if(V|=q<<6,Q.strstart!==0)V|=VJ;if(V+=31-V%31,R1(Q,V),Q.strstart!==0)R1(Q,J.adler>>>16),R1(Q,J.adler&65535);if(J.adler=1,Q.status=V1,h(J),Q.pending!==0)return Q.last_flush=-1,S}if(Q.status===o0)if(J.adler=0,D(Q,31),D(Q,139),D(Q,8),!Q.gzhead){if(D(Q,0),D(Q,0),D(Q,0),D(Q,0),D(Q,0),D(Q,Q.level===9?2:Q.strategy>=s1||Q.level<2?4:0),D(Q,qJ),Q.status=V1,h(J),Q.pending!==0)return Q.last_flush=-1,S}else{if(D(Q,(Q.gzhead.text?1:0)+(Q.gzhead.hcrc?2:0)+(!Q.gzhead.extra?0:4)+(!Q.gzhead.name?0:8)+(!Q.gzhead.comment?0:16)),D(Q,Q.gzhead.time&255),D(Q,Q.gzhead.time>>8&255),D(Q,Q.gzhead.time>>16&255),D(Q,Q.gzhead.time>>24&255),D(Q,Q.level===9?2:Q.strategy>=s1||Q.level<2?4:0),D(Q,Q.gzhead.os&255),Q.gzhead.extra&&Q.gzhead.extra.length)D(Q,Q.gzhead.extra.length&255),D(Q,Q.gzhead.extra.length>>8&255);if(Q.gzhead.hcrc)J.adler=T(J.adler,Q.pending_buf,Q.pending,0);Q.gzindex=0,Q.status=h0}if(Q.status===h0){if(Q.gzhead.extra){let V=Q.pending,q=(Q.gzhead.extra.length&65535)-Q.gzindex;while(Q.pending+q>Q.pending_buf_size){let P=Q.pending_buf_size-Q.pending;if(Q.pending_buf.set(Q.gzhead.extra.subarray(Q.gzindex,Q.gzindex+P),Q.pending),Q.pending=Q.pending_buf_size,Q.gzhead.hcrc&&Q.pending>V)J.adler=T(J.adler,Q.pending_buf,Q.pending-V,V);if(Q.gzindex+=P,h(J),Q.pending!==0)return Q.last_flush=-1,S;V=0,q-=P}let G=new Uint8Array(Q.gzhead.extra);if(Q.pending_buf.set(G.subarray(Q.gzindex,Q.gzindex+q),Q.pending),Q.pending+=q,Q.gzhead.hcrc&&Q.pending>V)J.adler=T(J.adler,Q.pending_buf,Q.pending-V,V);Q.gzindex=0}Q.status=p0}if(Q.status===p0){if(Q.gzhead.name){let V=Q.pending,q;do{if(Q.pending===Q.pending_buf_size){if(Q.gzhead.hcrc&&Q.pending>V)J.adler=T(J.adler,Q.pending_buf,Q.pending-V,V);if(h(J),Q.pending!==0)return Q.last_flush=-1,S;V=0}if(Q.gzindex<Q.gzhead.name.length)q=Q.gzhead.name.charCodeAt(Q.gzindex++)&255;else q=0;D(Q,q)}while(q!==0);if(Q.gzhead.hcrc&&Q.pending>V)J.adler=T(J.adler,Q.pending_buf,Q.pending-V,V);Q.gzindex=0}Q.status=b0}if(Q.status===b0){if(Q.gzhead.comment){let V=Q.pending,q;do{if(Q.pending===Q.pending_buf_size){if(Q.gzhead.hcrc&&Q.pending>V)J.adler=T(J.adler,Q.pending_buf,Q.pending-V,V);if(h(J),Q.pending!==0)return Q.last_flush=-1,S;V=0}if(Q.gzindex<Q.gzhead.comment.length)q=Q.gzhead.comment.charCodeAt(Q.gzindex++)&255;else q=0;D(Q,q)}while(q!==0);if(Q.gzhead.hcrc&&Q.pending>V)J.adler=T(J.adler,Q.pending_buf,Q.pending-V,V)}Q.status=m0}if(Q.status===m0){if(Q.gzhead.hcrc){if(Q.pending+2>Q.pending_buf_size){if(h(J),Q.pending!==0)return Q.last_flush=-1,S}D(Q,J.adler&255),D(Q,J.adler>>8&255),J.adler=0}if(Q.status=V1,h(J),Q.pending!==0)return Q.last_flush=-1,S}if(J.avail_in!==0||Q.lookahead!==0||W!==s&&Q.status!==A1){let V=Q.level===0?O6(Q,W):Q.strategy===s1?YJ(Q,W):Q.strategy===o8?XJ(Q,W):D1[Q.level].func(Q,W);if(V===P1||V===v1)Q.status=A1;if(V===y||V===P1){if(J.avail_out===0)Q.last_flush=-1;return S}if(V===N1){if(W===u8)m8(Q);else if(W!==k7){if(y0(Q,0,0,!1),W===f8){if(_(Q.head),Q.lookahead===0)Q.strstart=0,Q.block_start=0,Q.insert=0}}if(h(J),J.avail_out===0)return Q.last_flush=-1,S}}if(W!==b)return S;if(Q.wrap<=0)return w7;if(Q.wrap===2)D(Q,J.adler&255),D(Q,J.adler>>8&255),D(Q,J.adler>>16&255),D(Q,J.adler>>24&255),D(Q,J.total_in&255),D(Q,J.total_in>>8&255),D(Q,J.total_in>>16&255),D(Q,J.total_in>>24&255);else R1(Q,J.adler>>>16),R1(Q,J.adler&65535);if(h(J),Q.wrap>0)Q.wrap=-Q.wrap;return Q.pending!==0?S:w7},LJ=(J)=>{if(u1(J))return o;let W=J.state.status;return J.state=null,W===V1?q1(J,c8):S},HJ=(J,W)=>{let Q=W.length;if(u1(J))return o;let j=J.state,V=j.wrap;if(V===2||V===1&&j.status!==$1||j.lookahead)return o;if(V===1)J.adler=E1(J.adler,W,Q,0);if(j.wrap=0,Q>=j.w_size){if(V===0)_(j.head),j.strstart=0,j.block_start=0,j.insert=0;let U=new Uint8Array(j.w_size);U.set(W.subarray(Q-j.w_size,Q),0),W=U,Q=j.w_size}let{avail_in:q,next_in:G,input:P}=J;J.avail_in=Q,J.next_in=0,J.input=W,B1(j);while(j.lookahead>=I){let U=j.strstart,X=j.lookahead-(I-1);do j.ins_h=J1(j,j.ins_h,j.window[U+I-1]),j.prev[U&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=U,U++;while(--X);j.strstart=U,j.lookahead=I-1,B1(j)}return j.strstart+=j.lookahead,j.block_start=j.strstart,j.insert=j.lookahead,j.lookahead=0,j.match_length=j.prev_length=I-1,j.match_available=0,J.next_in=G,J.input=P,J.avail_in=q,j.wrap=V,S},$J=FJ,BJ=D6,MJ=A6,NJ=R6,vJ=zJ,CJ=ZJ,IJ=LJ,OJ=HJ,RJ="pako deflate (from Nodeca project)",k1={deflateInit:$J,deflateInit2:BJ,deflateReset:MJ,deflateResetKeep:NJ,deflateSetHeader:vJ,deflate:CJ,deflateEnd:IJ,deflateSetDictionary:OJ,deflateInfo:RJ},AJ=(J,W)=>{return Object.prototype.hasOwnProperty.call(J,W)},DJ=function(J){let W=Array.prototype.slice.call(arguments,1);while(W.length){let Q=W.shift();if(!Q)continue;if(typeof Q!=="object")throw new TypeError(Q+"must be non-object");for(let j in Q)if(AJ(Q,j))J[j]=Q[j]}return J},gJ=(J)=>{let W=0;for(let j=0,V=J.length;j<V;j++)W+=J[j].length;let Q=new Uint8Array(W);for(let j=0,V=0,q=J.length;j<q;j++){let G=J[j];Q.set(G,V),V+=G.length}return Q},Y0={assign:DJ,flattenChunks:gJ},g6=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(J){g6=!1}var h1=new Uint8Array(256);for(let J=0;J<256;J++)h1[J]=J>=252?6:J>=248?5:J>=240?4:J>=224?3:J>=192?2:1;h1[254]=h1[254]=1;var kJ=(J)=>{if(typeof TextEncoder==="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(J);let W,Q,j,V,q,G=J.length,P=0;for(V=0;V<G;V++){if(Q=J.charCodeAt(V),(Q&64512)===55296&&V+1<G){if(j=J.charCodeAt(V+1),(j&64512)===56320)Q=65536+(Q-55296<<10)+(j-56320),V++}P+=Q<128?1:Q<2048?2:Q<65536?3:4}W=new Uint8Array(P);for(q=0,V=0;q<P;V++){if(Q=J.charCodeAt(V),(Q&64512)===55296&&V+1<G){if(j=J.charCodeAt(V+1),(j&64512)===56320)Q=65536+(Q-55296<<10)+(j-56320),V++}if(Q<128)W[q++]=Q;else if(Q<2048)W[q++]=192|Q>>>6,W[q++]=128|Q&63;else if(Q<65536)W[q++]=224|Q>>>12,W[q++]=128|Q>>>6&63,W[q++]=128|Q&63;else W[q++]=240|Q>>>18,W[q++]=128|Q>>>12&63,W[q++]=128|Q>>>6&63,W[q++]=128|Q&63}return W},wJ=(J,W)=>{if(W<65534){if(J.subarray&&g6)return String.fromCharCode.apply(null,J.length===W?J:J.subarray(0,W))}let Q="";for(let j=0;j<W;j++)Q+=String.fromCharCode(J[j]);return Q},xJ=(J,W)=>{let Q=W||J.length;if(typeof TextDecoder==="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(J.subarray(0,W));let j,V,q=new Array(Q*2);for(V=0,j=0;j<Q;){let G=J[j++];if(G<128){q[V++]=G;continue}let P=h1[G];if(P>4){q[V++]=65533,j+=P-1;continue}G&=P===2?31:P===3?15:7;while(P>1&&j<Q)G=G<<6|J[j++]&63,P--;if(P>1){q[V++]=65533;continue}if(G<65536)q[V++]=G;else G-=65536,q[V++]=55296|G>>10&1023,q[V++]=56320|G&1023}return wJ(q,V)},TJ=(J,W)=>{if(W=W||J.length,W>J.length)W=J.length;let Q=W-1;while(Q>=0&&(J[Q]&192)===128)Q--;if(Q<0)return W;if(Q===0)return W;return Q+h1[J[Q]]>W?Q:W},p1={string2buf:kJ,buf2string:xJ,utf8border:TJ};function SJ(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var k6=SJ,w6=Object.prototype.toString,{Z_NO_FLUSH:yJ,Z_SYNC_FLUSH:EJ,Z_FULL_FLUSH:hJ,Z_FINISH:pJ,Z_OK:G0,Z_STREAM_END:bJ,Z_DEFAULT_COMPRESSION:mJ,Z_DEFAULT_STRATEGY:uJ,Z_DEFLATED:fJ}=Y1;function f1(J){this.options=Y0.assign({level:mJ,method:fJ,chunkSize:16384,windowBits:15,memLevel:8,strategy:uJ},J||{});let W=this.options;if(W.raw&&W.windowBits>0)W.windowBits=-W.windowBits;else if(W.gzip&&W.windowBits>0&&W.windowBits<16)W.windowBits+=16;this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k6,this.strm.avail_out=0;let Q=k1.deflateInit2(this.strm,W.level,W.method,W.windowBits,W.memLevel,W.strategy);if(Q!==G0)throw new Error(G1[Q]);if(W.header)k1.deflateSetHeader(this.strm,W.header);if(W.dictionary){let j;if(typeof W.dictionary==="string")j=p1.string2buf(W.dictionary);else if(w6.call(W.dictionary)==="[object ArrayBuffer]")j=new Uint8Array(W.dictionary);else j=W.dictionary;if(Q=k1.deflateSetDictionary(this.strm,j),Q!==G0)throw new Error(G1[Q]);this._dict_set=!0}}f1.prototype.push=function(J,W){let Q=this.strm,j=this.options.chunkSize,V,q;if(this.ended)return!1;if(W===~~W)q=W;else q=W===!0?pJ:yJ;if(typeof J==="string")Q.input=p1.string2buf(J);else if(w6.call(J)==="[object ArrayBuffer]")Q.input=new Uint8Array(J);else Q.input=J;Q.next_in=0,Q.avail_in=Q.input.length;for(;;){if(Q.avail_out===0)Q.output=new Uint8Array(j),Q.next_out=0,Q.avail_out=j;if((q===EJ||q===hJ)&&Q.avail_out<=6){this.onData(Q.output.subarray(0,Q.next_out)),Q.avail_out=0;continue}if(V=k1.deflate(Q,q),V===bJ){if(Q.next_out>0)this.onData(Q.output.subarray(0,Q.next_out));return V=k1.deflateEnd(this.strm),this.onEnd(V),this.ended=!0,V===G0}if(Q.avail_out===0){this.onData(Q.output);continue}if(q>0&&Q.next_out>0){this.onData(Q.output.subarray(0,Q.next_out)),Q.avail_out=0;continue}if(Q.avail_in===0)break}return!0};f1.prototype.onData=function(J){this.chunks.push(J)};f1.prototype.onEnd=function(J){if(J===G0)this.result=Y0.flattenChunks(this.chunks);this.chunks=[],this.err=J,this.msg=this.strm.msg};function i0(J,W){let Q=new f1(W);if(Q.push(J,!0),Q.err)throw Q.msg||G1[Q.err];return Q.result}function cJ(J,W){return W=W||{},W.raw=!0,i0(J,W)}function dJ(J,W){return W=W||{},W.gzip=!0,i0(J,W)}var lJ=f1,oJ=i0,iJ=cJ,nJ=dJ,aJ=Y1,rJ={Deflate:lJ,deflate:oJ,deflateRaw:iJ,gzip:nJ,constants:aJ},J0=16209,_J=16191,eJ=function J(W,Q){let j,V,q,G,P,U,X,Y,F,z,K,Z,M,H,B,R,v,L,A,x,$,g,O,N,C=W.state;j=W.next_in,O=W.input,V=j+(W.avail_in-5),q=W.next_out,N=W.output,G=q-(Q-W.avail_out),P=q+(W.avail_out-257),U=C.dmax,X=C.wsize,Y=C.whave,F=C.wnext,z=C.window,K=C.hold,Z=C.bits,M=C.lencode,H=C.distcode,B=(1<<C.lenbits)-1,R=(1<<C.distbits)-1;J:do{if(Z<15)K+=O[j++]<<Z,Z+=8,K+=O[j++]<<Z,Z+=8;v=M[K&B];Q:for(;;){if(L=v>>>24,K>>>=L,Z-=L,L=v>>>16&255,L===0)N[q++]=v&65535;else if(L&16){if(A=v&65535,L&=15,L){if(Z<L)K+=O[j++]<<Z,Z+=8;A+=K&(1<<L)-1,K>>>=L,Z-=L}if(Z<15)K+=O[j++]<<Z,Z+=8,K+=O[j++]<<Z,Z+=8;v=H[K&R];W:for(;;){if(L=v>>>24,K>>>=L,Z-=L,L=v>>>16&255,L&16){if(x=v&65535,L&=15,Z<L){if(K+=O[j++]<<Z,Z+=8,Z<L)K+=O[j++]<<Z,Z+=8}if(x+=K&(1<<L)-1,x>U){W.msg="invalid distance too far back",C.mode=J0;break J}if(K>>>=L,Z-=L,L=q-G,x>L){if(L=x-L,L>Y){if(C.sane){W.msg="invalid distance too far back",C.mode=J0;break J}}if($=0,g=z,F===0){if($+=X-L,L<A){A-=L;do N[q++]=z[$++];while(--L);$=q-x,g=N}}else if(F<L){if($+=X+F-L,L-=F,L<A){A-=L;do N[q++]=z[$++];while(--L);if($=0,F<A){L=F,A-=L;do N[q++]=z[$++];while(--L);$=q-x,g=N}}}else if($+=F-L,L<A){A-=L;do N[q++]=z[$++];while(--L);$=q-x,g=N}while(A>2)N[q++]=g[$++],N[q++]=g[$++],N[q++]=g[$++],A-=3;if(A){if(N[q++]=g[$++],A>1)N[q++]=g[$++]}}else{$=q-x;do N[q++]=N[$++],N[q++]=N[$++],N[q++]=N[$++],A-=3;while(A>2);if(A){if(N[q++]=N[$++],A>1)N[q++]=N[$++]}}}else if((L&64)===0){v=H[(v&65535)+(K&(1<<L)-1)];continue W}else{W.msg="invalid distance code",C.mode=J0;break J}break}}else if((L&64)===0){v=M[(v&65535)+(K&(1<<L)-1)];continue Q}else if(L&32){C.mode=_J;break J}else{W.msg="invalid literal/length code",C.mode=J0;break J}break}}while(j<V&&q<P);A=Z>>3,j-=A,Z-=A<<3,K&=(1<<Z)-1,W.next_in=j,W.next_out=q,W.avail_in=j<V?5+(V-j):5-(j-V),W.avail_out=q<P?257+(P-q):257-(q-P),C.hold=K,C.bits=Z;return},L1=15,T7=852,S7=592,y7=0,O0=1,E7=2,tJ=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),sJ=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),JQ=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),QQ=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),WQ=(J,W,Q,j,V,q,G,P)=>{let U=P.bits,X=0,Y=0,F=0,z=0,K=0,Z=0,M=0,H=0,B=0,R=0,v,L,A,x,$,g=null,O,N=new Uint16Array(L1+1),C=new Uint16Array(L1+1),Q1=null,a0,d1,l1;for(X=0;X<=L1;X++)N[X]=0;for(Y=0;Y<j;Y++)N[W[Q+Y]]++;K=U;for(z=L1;z>=1;z--)if(N[z]!==0)break;if(K>z)K=z;if(z===0)return V[q++]=20971520,V[q++]=20971520,P.bits=1,0;for(F=1;F<z;F++)if(N[F]!==0)break;if(K<F)K=F;H=1;for(X=1;X<=L1;X++)if(H<<=1,H-=N[X],H<0)return-1;if(H>0&&(J===y7||z!==1))return-1;C[1]=0;for(X=1;X<L1;X++)C[X+1]=C[X]+N[X];for(Y=0;Y<j;Y++)if(W[Q+Y]!==0)G[C[W[Q+Y]]++]=Y;if(J===y7)g=Q1=G,O=20;else if(J===O0)g=tJ,Q1=sJ,O=257;else g=JQ,Q1=QQ,O=0;if(R=0,Y=0,X=F,$=q,Z=K,M=0,A=-1,B=1<<K,x=B-1,J===O0&&B>T7||J===E7&&B>S7)return 1;for(;;){if(a0=X-M,G[Y]+1<O)d1=0,l1=G[Y];else if(G[Y]>=O)d1=Q1[G[Y]-O],l1=g[G[Y]-O];else d1=96,l1=0;v=1<<X-M,L=1<<Z,F=L;do L-=v,V[$+(R>>M)+L]=a0<<24|d1<<16|l1|0;while(L!==0);v=1<<X-1;while(R&v)v>>=1;if(v!==0)R&=v-1,R+=v;else R=0;if(Y++,--N[X]===0){if(X===z)break;X=W[Q+G[Y]]}if(X>K&&(R&x)!==A){if(M===0)M=K;$+=F,Z=X-M,H=1<<Z;while(Z+M<z){if(H-=N[Z+M],H<=0)break;Z++,H<<=1}if(B+=1<<Z,J===O0&&B>T7||J===E7&&B>S7)return 1;A=R&x,V[A]=K<<24|Z<<16|$-q|0}}if(R!==0)V[$+R]=X-M<<24|4194304|0;return P.bits=K,0},w1=WQ,jQ=0,x6=1,T6=2,{Z_FINISH:h7,Z_BLOCK:VQ,Z_TREES:Q0,Z_OK:X1,Z_STREAM_END:qQ,Z_NEED_DICT:GQ,Z_STREAM_ERROR:m,Z_DATA_ERROR:S6,Z_MEM_ERROR:y6,Z_BUF_ERROR:PQ,Z_DEFLATED:p7}=Y1,U0=16180,b7=16181,m7=16182,u7=16183,f7=16184,c7=16185,d7=16186,l7=16187,o7=16188,i7=16189,P0=16190,n=16191,R0=16192,n7=16193,A0=16194,a7=16195,r7=16196,_7=16197,e7=16198,W0=16199,j0=16200,t7=16201,s7=16202,J6=16203,Q6=16204,W6=16205,D0=16206,j6=16207,V6=16208,k=16209,E6=16210,h6=16211,XQ=852,YQ=592,UQ=15,KQ=UQ,q6=(J)=>{return(J>>>24&255)+(J>>>8&65280)+((J&65280)<<8)+((J&255)<<24)};function zQ(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var U1=(J)=>{if(!J)return 1;let W=J.state;if(!W||W.strm!==J||W.mode<U0||W.mode>h6)return 1;return 0},p6=(J)=>{if(U1(J))return m;let W=J.state;if(J.total_in=J.total_out=W.total=0,J.msg="",W.wrap)J.adler=W.wrap&1;return W.mode=U0,W.last=0,W.havedict=0,W.flags=-1,W.dmax=32768,W.head=null,W.hold=0,W.bits=0,W.lencode=W.lendyn=new Int32Array(XQ),W.distcode=W.distdyn=new Int32Array(YQ),W.sane=1,W.back=-1,X1},b6=(J)=>{if(U1(J))return m;let W=J.state;return W.wsize=0,W.whave=0,W.wnext=0,p6(J)},m6=(J,W)=>{let Q;if(U1(J))return m;let j=J.state;if(W<0)Q=0,W=-W;else if(Q=(W>>4)+5,W<48)W&=15;if(W&&(W<8||W>15))return m;if(j.window!==null&&j.wbits!==W)j.window=null;return j.wrap=Q,j.wbits=W,b6(J)},u6=(J,W)=>{if(!J)return m;let Q=new zQ;J.state=Q,Q.strm=J,Q.window=null,Q.mode=U0;let j=m6(J,W);if(j!==X1)J.state=null;return j},FQ=(J)=>{return u6(J,KQ)},G6=!0,g0,k0,ZQ=(J)=>{if(G6){g0=new Int32Array(512),k0=new Int32Array(32);let W=0;while(W<144)J.lens[W++]=8;while(W<256)J.lens[W++]=9;while(W<280)J.lens[W++]=7;while(W<288)J.lens[W++]=8;w1(x6,J.lens,0,288,g0,0,J.work,{bits:9}),W=0;while(W<32)J.lens[W++]=5;w1(T6,J.lens,0,32,k0,0,J.work,{bits:5}),G6=!1}J.lencode=g0,J.lenbits=9,J.distcode=k0,J.distbits=5},f6=(J,W,Q,j)=>{let V,q=J.state;if(q.window===null)q.wsize=1<<q.wbits,q.wnext=0,q.whave=0,q.window=new Uint8Array(q.wsize);if(j>=q.wsize)q.window.set(W.subarray(Q-q.wsize,Q),0),q.wnext=0,q.whave=q.wsize;else{if(V=q.wsize-q.wnext,V>j)V=j;if(q.window.set(W.subarray(Q-j,Q-j+V),q.wnext),j-=V,j)q.window.set(W.subarray(Q-j,Q),0),q.wnext=j,q.whave=q.wsize;else{if(q.wnext+=V,q.wnext===q.wsize)q.wnext=0;if(q.whave<q.wsize)q.whave+=V}}return 0},LQ=(J,W)=>{let Q,j,V,q,G,P,U,X,Y,F,z,K,Z,M,H=0,B,R,v,L,A,x,$,g,O=new Uint8Array(4),N,C,Q1=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(U1(J)||!J.output||!J.input&&J.avail_in!==0)return m;if(Q=J.state,Q.mode===n)Q.mode=R0;G=J.next_out,V=J.output,U=J.avail_out,q=J.next_in,j=J.input,P=J.avail_in,X=Q.hold,Y=Q.bits,F=P,z=U,g=X1;J:for(;;)switch(Q.mode){case U0:if(Q.wrap===0){Q.mode=R0;break}while(Y<16){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}if(Q.wrap&2&&X===35615){if(Q.wbits===0)Q.wbits=15;Q.check=0,O[0]=X&255,O[1]=X>>>8&255,Q.check=T(Q.check,O,2,0),X=0,Y=0,Q.mode=b7;break}if(Q.head)Q.head.done=!1;if(!(Q.wrap&1)||(((X&255)<<8)+(X>>8))%31){J.msg="incorrect header check",Q.mode=k;break}if((X&15)!==p7){J.msg="unknown compression method",Q.mode=k;break}if(X>>>=4,Y-=4,$=(X&15)+8,Q.wbits===0)Q.wbits=$;if($>15||$>Q.wbits){J.msg="invalid window size",Q.mode=k;break}Q.dmax=1<<Q.wbits,Q.flags=0,J.adler=Q.check=1,Q.mode=X&512?i7:n,X=0,Y=0;break;case b7:while(Y<16){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}if(Q.flags=X,(Q.flags&255)!==p7){J.msg="unknown compression method",Q.mode=k;break}if(Q.flags&57344){J.msg="unknown header flags set",Q.mode=k;break}if(Q.head)Q.head.text=X>>8&1;if(Q.flags&512&&Q.wrap&4)O[0]=X&255,O[1]=X>>>8&255,Q.check=T(Q.check,O,2,0);X=0,Y=0,Q.mode=m7;case m7:while(Y<32){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}if(Q.head)Q.head.time=X;if(Q.flags&512&&Q.wrap&4)O[0]=X&255,O[1]=X>>>8&255,O[2]=X>>>16&255,O[3]=X>>>24&255,Q.check=T(Q.check,O,4,0);X=0,Y=0,Q.mode=u7;case u7:while(Y<16){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}if(Q.head)Q.head.xflags=X&255,Q.head.os=X>>8;if(Q.flags&512&&Q.wrap&4)O[0]=X&255,O[1]=X>>>8&255,Q.check=T(Q.check,O,2,0);X=0,Y=0,Q.mode=f7;case f7:if(Q.flags&1024){while(Y<16){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}if(Q.length=X,Q.head)Q.head.extra_len=X;if(Q.flags&512&&Q.wrap&4)O[0]=X&255,O[1]=X>>>8&255,Q.check=T(Q.check,O,2,0);X=0,Y=0}else if(Q.head)Q.head.extra=null;Q.mode=c7;case c7:if(Q.flags&1024){if(K=Q.length,K>P)K=P;if(K){if(Q.head){if($=Q.head.extra_len-Q.length,!Q.head.extra)Q.head.extra=new Uint8Array(Q.head.extra_len);Q.head.extra.set(j.subarray(q,q+K),$)}if(Q.flags&512&&Q.wrap&4)Q.check=T(Q.check,j,K,q);P-=K,q+=K,Q.length-=K}if(Q.length)break J}Q.length=0,Q.mode=d7;case d7:if(Q.flags&2048){if(P===0)break J;K=0;do if($=j[q+K++],Q.head&&$&&Q.length<65536)Q.head.name+=String.fromCharCode($);while($&&K<P);if(Q.flags&512&&Q.wrap&4)Q.check=T(Q.check,j,K,q);if(P-=K,q+=K,$)break J}else if(Q.head)Q.head.name=null;Q.length=0,Q.mode=l7;case l7:if(Q.flags&4096){if(P===0)break J;K=0;do if($=j[q+K++],Q.head&&$&&Q.length<65536)Q.head.comment+=String.fromCharCode($);while($&&K<P);if(Q.flags&512&&Q.wrap&4)Q.check=T(Q.check,j,K,q);if(P-=K,q+=K,$)break J}else if(Q.head)Q.head.comment=null;Q.mode=o7;case o7:if(Q.flags&512){while(Y<16){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}if(Q.wrap&4&&X!==(Q.check&65535)){J.msg="header crc mismatch",Q.mode=k;break}X=0,Y=0}if(Q.head)Q.head.hcrc=Q.flags>>9&1,Q.head.done=!0;J.adler=Q.check=0,Q.mode=n;break;case i7:while(Y<32){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}J.adler=Q.check=q6(X),X=0,Y=0,Q.mode=P0;case P0:if(Q.havedict===0)return J.next_out=G,J.avail_out=U,J.next_in=q,J.avail_in=P,Q.hold=X,Q.bits=Y,GQ;J.adler=Q.check=1,Q.mode=n;case n:if(W===VQ||W===Q0)break J;case R0:if(Q.last){X>>>=Y&7,Y-=Y&7,Q.mode=D0;break}while(Y<3){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}switch(Q.last=X&1,X>>>=1,Y-=1,X&3){case 0:Q.mode=n7;break;case 1:if(ZQ(Q),Q.mode=W0,W===Q0){X>>>=2,Y-=2;break J}break;case 2:Q.mode=r7;break;case 3:J.msg="invalid block type",Q.mode=k}X>>>=2,Y-=2;break;case n7:X>>>=Y&7,Y-=Y&7;while(Y<32){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}if((X&65535)!==(X>>>16^65535)){J.msg="invalid stored block lengths",Q.mode=k;break}if(Q.length=X&65535,X=0,Y=0,Q.mode=A0,W===Q0)break J;case A0:Q.mode=a7;case a7:if(K=Q.length,K){if(K>P)K=P;if(K>U)K=U;if(K===0)break J;V.set(j.subarray(q,q+K),G),P-=K,q+=K,U-=K,G+=K,Q.length-=K;break}Q.mode=n;break;case r7:while(Y<14){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}if(Q.nlen=(X&31)+257,X>>>=5,Y-=5,Q.ndist=(X&31)+1,X>>>=5,Y-=5,Q.ncode=(X&15)+4,X>>>=4,Y-=4,Q.nlen>286||Q.ndist>30){J.msg="too many length or distance symbols",Q.mode=k;break}Q.have=0,Q.mode=_7;case _7:while(Q.have<Q.ncode){while(Y<3){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}Q.lens[Q1[Q.have++]]=X&7,X>>>=3,Y-=3}while(Q.have<19)Q.lens[Q1[Q.have++]]=0;if(Q.lencode=Q.lendyn,Q.lenbits=7,N={bits:Q.lenbits},g=w1(jQ,Q.lens,0,19,Q.lencode,0,Q.work,N),Q.lenbits=N.bits,g){J.msg="invalid code lengths set",Q.mode=k;break}Q.have=0,Q.mode=e7;case e7:while(Q.have<Q.nlen+Q.ndist){for(;;){if(H=Q.lencode[X&(1<<Q.lenbits)-1],B=H>>>24,R=H>>>16&255,v=H&65535,B<=Y)break;if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}if(v<16)X>>>=B,Y-=B,Q.lens[Q.have++]=v;else{if(v===16){C=B+2;while(Y<C){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}if(X>>>=B,Y-=B,Q.have===0){J.msg="invalid bit length repeat",Q.mode=k;break}$=Q.lens[Q.have-1],K=3+(X&3),X>>>=2,Y-=2}else if(v===17){C=B+3;while(Y<C){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}X>>>=B,Y-=B,$=0,K=3+(X&7),X>>>=3,Y-=3}else{C=B+7;while(Y<C){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}X>>>=B,Y-=B,$=0,K=11+(X&127),X>>>=7,Y-=7}if(Q.have+K>Q.nlen+Q.ndist){J.msg="invalid bit length repeat",Q.mode=k;break}while(K--)Q.lens[Q.have++]=$}}if(Q.mode===k)break;if(Q.lens[256]===0){J.msg="invalid code -- missing end-of-block",Q.mode=k;break}if(Q.lenbits=9,N={bits:Q.lenbits},g=w1(x6,Q.lens,0,Q.nlen,Q.lencode,0,Q.work,N),Q.lenbits=N.bits,g){J.msg="invalid literal/lengths set",Q.mode=k;break}if(Q.distbits=6,Q.distcode=Q.distdyn,N={bits:Q.distbits},g=w1(T6,Q.lens,Q.nlen,Q.ndist,Q.distcode,0,Q.work,N),Q.distbits=N.bits,g){J.msg="invalid distances set",Q.mode=k;break}if(Q.mode=W0,W===Q0)break J;case W0:Q.mode=j0;case j0:if(P>=6&&U>=258){if(J.next_out=G,J.avail_out=U,J.next_in=q,J.avail_in=P,Q.hold=X,Q.bits=Y,eJ(J,z),G=J.next_out,V=J.output,U=J.avail_out,q=J.next_in,j=J.input,P=J.avail_in,X=Q.hold,Y=Q.bits,Q.mode===n)Q.back=-1;break}Q.back=0;for(;;){if(H=Q.lencode[X&(1<<Q.lenbits)-1],B=H>>>24,R=H>>>16&255,v=H&65535,B<=Y)break;if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}if(R&&(R&240)===0){L=B,A=R,x=v;for(;;){if(H=Q.lencode[x+((X&(1<<L+A)-1)>>L)],B=H>>>24,R=H>>>16&255,v=H&65535,L+B<=Y)break;if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}X>>>=L,Y-=L,Q.back+=L}if(X>>>=B,Y-=B,Q.back+=B,Q.length=v,R===0){Q.mode=W6;break}if(R&32){Q.back=-1,Q.mode=n;break}if(R&64){J.msg="invalid literal/length code",Q.mode=k;break}Q.extra=R&15,Q.mode=t7;case t7:if(Q.extra){C=Q.extra;while(Y<C){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}Q.length+=X&(1<<Q.extra)-1,X>>>=Q.extra,Y-=Q.extra,Q.back+=Q.extra}Q.was=Q.length,Q.mode=s7;case s7:for(;;){if(H=Q.distcode[X&(1<<Q.distbits)-1],B=H>>>24,R=H>>>16&255,v=H&65535,B<=Y)break;if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}if((R&240)===0){L=B,A=R,x=v;for(;;){if(H=Q.distcode[x+((X&(1<<L+A)-1)>>L)],B=H>>>24,R=H>>>16&255,v=H&65535,L+B<=Y)break;if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}X>>>=L,Y-=L,Q.back+=L}if(X>>>=B,Y-=B,Q.back+=B,R&64){J.msg="invalid distance code",Q.mode=k;break}Q.offset=v,Q.extra=R&15,Q.mode=J6;case J6:if(Q.extra){C=Q.extra;while(Y<C){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}Q.offset+=X&(1<<Q.extra)-1,X>>>=Q.extra,Y-=Q.extra,Q.back+=Q.extra}if(Q.offset>Q.dmax){J.msg="invalid distance too far back",Q.mode=k;break}Q.mode=Q6;case Q6:if(U===0)break J;if(K=z-U,Q.offset>K){if(K=Q.offset-K,K>Q.whave){if(Q.sane){J.msg="invalid distance too far back",Q.mode=k;break}}if(K>Q.wnext)K-=Q.wnext,Z=Q.wsize-K;else Z=Q.wnext-K;if(K>Q.length)K=Q.length;M=Q.window}else M=V,Z=G-Q.offset,K=Q.length;if(K>U)K=U;U-=K,Q.length-=K;do V[G++]=M[Z++];while(--K);if(Q.length===0)Q.mode=j0;break;case W6:if(U===0)break J;V[G++]=Q.length,U--,Q.mode=j0;break;case D0:if(Q.wrap){while(Y<32){if(P===0)break J;P--,X|=j[q++]<<Y,Y+=8}if(z-=U,J.total_out+=z,Q.total+=z,Q.wrap&4&&z)J.adler=Q.check=Q.flags?T(Q.check,V,z,G-z):E1(Q.check,V,z,G-z);if(z=U,Q.wrap&4&&(Q.flags?X:q6(X))!==Q.check){J.msg="incorrect data check",Q.mode=k;break}X=0,Y=0}Q.mode=j6;case j6:if(Q.wrap&&Q.flags){while(Y<32){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}if(Q.wrap&4&&X!==(Q.total&4294967295)){J.msg="incorrect length check",Q.mode=k;break}X=0,Y=0}Q.mode=V6;case V6:g=qQ;break J;case k:g=S6;break J;case E6:return y6;case h6:default:return m}if(J.next_out=G,J.avail_out=U,J.next_in=q,J.avail_in=P,Q.hold=X,Q.bits=Y,Q.wsize||z!==J.avail_out&&Q.mode<k&&(Q.mode<D0||W!==h7)){if(f6(J,J.output,J.next_out,z-J.avail_out));}if(F-=J.avail_in,z-=J.avail_out,J.total_in+=F,J.total_out+=z,Q.total+=z,Q.wrap&4&&z)J.adler=Q.check=Q.flags?T(Q.check,V,z,J.next_out-z):E1(Q.check,V,z,J.next_out-z);if(J.data_type=Q.bits+(Q.last?64:0)+(Q.mode===n?128:0)+(Q.mode===W0||Q.mode===A0?256:0),(F===0&&z===0||W===h7)&&g===X1)g=PQ;return g},HQ=(J)=>{if(U1(J))return m;let W=J.state;if(W.window)W.window=null;return J.state=null,X1},$Q=(J,W)=>{if(U1(J))return m;let Q=J.state;if((Q.wrap&2)===0)return m;return Q.head=W,W.done=!1,X1},BQ=(J,W)=>{let Q=W.length,j,V,q;if(U1(J))return m;if(j=J.state,j.wrap!==0&&j.mode!==P0)return m;if(j.mode===P0){if(V=1,V=E1(V,W,Q,0),V!==j.check)return S6}if(q=f6(J,W,Q,Q),q)return j.mode=E6,y6;return j.havedict=1,X1},MQ=b6,NQ=m6,vQ=p6,CQ=FQ,IQ=u6,OQ=LQ,RQ=HQ,AQ=$Q,DQ=BQ,gQ="pako inflate (from Nodeca project)",r={inflateReset:MQ,inflateReset2:NQ,inflateResetKeep:vQ,inflateInit:CQ,inflateInit2:IQ,inflate:OQ,inflateEnd:RQ,inflateGetHeader:AQ,inflateSetDictionary:DQ,inflateInfo:gQ};function kQ(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var wQ=kQ,c6=Object.prototype.toString,{Z_NO_FLUSH:xQ,Z_FINISH:TQ,Z_OK:b1,Z_STREAM_END:w0,Z_NEED_DICT:x0,Z_STREAM_ERROR:SQ,Z_DATA_ERROR:P6,Z_MEM_ERROR:yQ}=Y1;function c1(J){this.options=Y0.assign({chunkSize:65536,windowBits:15,to:""},J||{});let W=this.options;if(W.raw&&W.windowBits>=0&&W.windowBits<16){if(W.windowBits=-W.windowBits,W.windowBits===0)W.windowBits=-15}if(W.windowBits>=0&&W.windowBits<16&&!(J&&J.windowBits))W.windowBits+=32;if(W.windowBits>15&&W.windowBits<48){if((W.windowBits&15)===0)W.windowBits|=15}this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k6,this.strm.avail_out=0;let Q=r.inflateInit2(this.strm,W.windowBits);if(Q!==b1)throw new Error(G1[Q]);if(this.header=new wQ,r.inflateGetHeader(this.strm,this.header),W.dictionary){if(typeof W.dictionary==="string")W.dictionary=p1.string2buf(W.dictionary);else if(c6.call(W.dictionary)==="[object ArrayBuffer]")W.dictionary=new Uint8Array(W.dictionary);if(W.raw){if(Q=r.inflateSetDictionary(this.strm,W.dictionary),Q!==b1)throw new Error(G1[Q])}}}c1.prototype.push=function(J,W){let Q=this.strm,j=this.options.chunkSize,V=this.options.dictionary,q,G,P;if(this.ended)return!1;if(W===~~W)G=W;else G=W===!0?TQ:xQ;if(c6.call(J)==="[object ArrayBuffer]")Q.input=new Uint8Array(J);else Q.input=J;Q.next_in=0,Q.avail_in=Q.input.length;for(;;){if(Q.avail_out===0)Q.output=new Uint8Array(j),Q.next_out=0,Q.avail_out=j;if(q=r.inflate(Q,G),q===x0&&V){if(q=r.inflateSetDictionary(Q,V),q===b1)q=r.inflate(Q,G);else if(q===P6)q=x0}while(Q.avail_in>0&&q===w0&&Q.state.wrap>0&&J[Q.next_in]!==0)r.inflateReset(Q),q=r.inflate(Q,G);switch(q){case SQ:case P6:case x0:case yQ:return this.onEnd(q),this.ended=!0,!1}if(P=Q.avail_out,Q.next_out){if(Q.avail_out===0||q===w0)if(this.options.to==="string"){let U=p1.utf8border(Q.output,Q.next_out),X=Q.next_out-U,Y=p1.buf2string(Q.output,U);if(Q.next_out=X,Q.avail_out=j-X,X)Q.output.set(Q.output.subarray(U,U+X),0);this.onData(Y)}else this.onData(Q.output.length===Q.next_out?Q.output:Q.output.subarray(0,Q.next_out))}if(q===b1&&P===0)continue;if(q===w0)return q=r.inflateEnd(this.strm),this.onEnd(q),this.ended=!0,!0;if(Q.avail_in===0)break}return!0};c1.prototype.onData=function(J){this.chunks.push(J)};c1.prototype.onEnd=function(J){if(J===b1)if(this.options.to==="string")this.result=this.chunks.join("");else this.result=Y0.flattenChunks(this.chunks);this.chunks=[],this.err=J,this.msg=this.strm.msg};function n0(J,W){let Q=new c1(W);if(Q.push(J),Q.err)throw Q.msg||G1[Q.err];return Q.result}function EQ(J,W){return W=W||{},W.raw=!0,n0(J,W)}var hQ=c1,pQ=n0,bQ=EQ,mQ=n0,uQ=Y1,fQ={Inflate:hQ,inflate:pQ,inflateRaw:bQ,ungzip:mQ,constants:uQ},{Deflate:cQ,deflate:dQ,deflateRaw:lQ,gzip:oQ}=rJ,{Inflate:iQ,inflate:nQ,inflateRaw:aQ,ungzip:rQ}=fQ,_Q=cQ,eQ=dQ,tQ=lQ,sQ=oQ,J5=iQ,Q5=nQ,W5=aQ,j5=rQ,V5=Y1,d6={Deflate:_Q,deflate:eQ,deflateRaw:tQ,gzip:sQ,Inflate:J5,inflate:Q5,inflateRaw:W5,ungzip:j5,constants:V5};class l6{#J;#Q;constructor(J="dict/"){this.#J=new t1,this.#Q=J}#W=(J)=>new Promise((W,Q)=>{fetch(J).then(async(j)=>await j.arrayBuffer()).then((j)=>{try{let q=d6.ungzip(j).buffer;W(q)}catch(V){Q(V)}}).catch((j)=>{Q(j)})});load(J){Promise.all(["base.dat.gz","check.dat.gz","tid.dat.gz","tid_pos.dat.gz","tid_map.dat.gz","cc.dat.gz","unk.dat.gz","unk_pos.dat.gz","unk_map.dat.gz","unk_char.dat.gz","unk_compat.dat.gz","unk_invoke.dat.gz"].map((W)=>this.#W(I7.join(this.#Q,W)))).then((W)=>{this.#J.loadTrie(new Int32Array(W[0]),new Int32Array(W[1])),this.#J.loadTokenInfoDictionaries(new Uint8Array(W[2]),new Uint8Array(W[3]),new Uint8Array(W[4])),this.#J.loadConnectionCosts(new Int16Array(W[5])),this.#J.loadUnknownDictionaries(new Uint8Array(W[6]),new Uint8Array(W[7]),new Uint8Array(W[8]),new Uint8Array(W[9]),new Uint32Array(W[10]),new Uint8Array(W[11])),J(null,this.#J)}).catch((W)=>{J(W,this.#J)})}}var o6=l6;class i6{#J;constructor(J={}){this.#J=new o6(J.dicPath)}build(J){this.#J.load((W,Q)=>{J(W,new $7(Q))})}}var n6=i6;var KW={builder:(J={})=>{return new n6(J)},dictionaryBuilder:()=>{return new P7}};export{KW as default,n6 as TokenizerBuilder,P7 as DictionaryBuilder};

//# debugId=8E157DB1D949B85C64756E2164756E21
//# sourceMappingURL=index.min.js.map
