class o0{formatEntry(J,W,Q,j){return{word_id:J,word_type:Q,word_position:W,surface_form:j[0],pos:j[1],pos_detail_1:j[2],pos_detail_2:j[3],pos_detail_3:j[4],conjugated_type:j[5],conjugated_form:j[6],basic_form:j[7],reading:j[8],pronunciation:j[9]}}formatUnknownEntry(J,W,Q,j,V){return{word_id:J,word_type:Q,word_position:W,surface_form:V,pos:j[1],pos_detail_1:j[2],pos_detail_2:j[3],pos_detail_3:j[4],conjugated_type:j[5],conjugated_form:j[6],basic_form:j[7]}}}var i0=o0;class M1{str;#J;length;constructor(J){this.str=J,this.#J=[];let W=J.length;for(let Q=0;Q<W;Q++){let j=J.charAt(Q);if(this.#J.push(Q),M1.isSurrogatePair(j))Q++}this.length=this.#J.length}slice(J){if(this.#J.length<=J)return"";let W=this.#J[J];return this.str.slice(W)}charAt(J){if(this.str.length<=J)return"";let W=this.#J[J],Q=this.#J[J+1];if(Q==null)return this.str.slice(W);return this.str.slice(W,Q)}charCodeAt(J){if(this.#J.length<=J)return Number.NaN;let W=this.#J[J],Q=this.str.charCodeAt(W),j;if(Q>=55296&&Q<=56319&&W<this.str.length){if(j=this.str.charCodeAt(W+1),j>=56320&&j<=57343)return(Q-55296)*1024+j-56320+65536}return Q}toString(){return this.str}add(J){return new M1(this.str+J.str)}append(J){return new M1(this.str+J)}static isSurrogatePair(J){let W=J.charCodeAt(0);if(W>=55296&&W<=56319)return!0;return!1}}var c1=M1;class n0{name;cost;start_pos;length;left_id;right_id;prev;surface_form;shortest_cost;type;constructor(J,W,Q,j,V,q,G,P){this.name=J,this.cost=W,this.start_pos=Q,this.length=j,this.left_id=q,this.right_id=G,this.prev=null,this.surface_form=P,this.shortest_cost=V==="BOS"?0:Number.MAX_VALUE,this.type=V}}var Y1=n0;class _0{nodes_end_at;eos_pos;constructor(){this.nodes_end_at=[],this.nodes_end_at[0]=[new Y1(-1,0,0,0,"BOS",0,0,"")],this.eos_pos=1}append(J){let W=J.start_pos+J.length-1;if(this.eos_pos<W)this.eos_pos=W;let Q=this.nodes_end_at[W]??[];Q.push(J),this.nodes_end_at[W]=Q}appendEos(){let J=this.nodes_end_at.length;this.eos_pos++,this.nodes_end_at[J]=[new Y1(-1,0,this.eos_pos,0,"EOS",0,0,"")]}}var a0=_0;class r0{#J;#Q;#W;constructor(J){this.#J=J.trie,this.#Q=J.token_info_dictionary,this.#W=J.unknown_dictionary}build(J){let W=new a0,Q=new c1(J),j=Q.length;for(let V=0;V<j;V++){let q=Q.slice(V),G=this.#J.commonPrefixSearch(q),P=G.length;for(let Y=0;Y<P;Y++){let z=G[Y].v,F=G[Y].k,K=this.#Q.target_map.get(z);if(!K)throw new Error("TokenInfo dictionary is broken");for(let Z of K){let $=this.#Q.dictionary.getShort(Z),H=this.#Q.dictionary.getShort(Z+2),N=this.#Q.dictionary.getShort(Z+4);W.append(new Y1(Z,N,V+1,F.length,"KNOWN",$,H,F))}}let U=q.charAt(0),X=this.#W.lookup(U);if(!G?.length||X.is_always_invoke){let Y=U,z=q.length;if(X.is_grouping&&z>1){let $=X.class_name;for(let H=1;H<z;H++){let N=q.charAt(H);if(this.#W.lookup(N).class_name!==$)break;Y+=N}}let F=this.#W.target_map.get(X.class_id);if(!F)throw new Error("Unknown dictionary is broken");let K=F.length,Z=this.#W.dictionary;for(let $=0;$<K;$++){let H=F[$];W.append(new Y1(H,Z.getShort(H+4),V+1,Y.length,"UNKNOWN",Z.getShort(H),Z.getShort(H+2),Y))}}}return W.appendEos(),W}}var e0=r0;class t0{#J;constructor(J){this.#J=J}search(J){let W=J;return W=this.#Q(W),this.#W(W)}#Q(J){let W=1;for(W=1;W<=J.eos_pos;W++){let Q=J.nodes_end_at[W];if(Q==null)continue;for(let j of Q){let V=Number.MAX_VALUE,q=null,G=j.start_pos-1;if(!(G in J.nodes_end_at))continue;let P=J.nodes_end_at[G];for(let U of P){let X;if(j.left_id==null||U.right_id==null)console.log("Left or right is null"),X=0;else X=this.#J.get(U.right_id,j.left_id);let Y=U.shortest_cost+X+j.cost;if(Y<V)q=U,V=Y}j.prev=q,j.shortest_cost=V}}return J}#W(J){let W=[],j=J.nodes_end_at[J.nodes_end_at.length-1][0].prev;if(j==null)return[];while(j.type!=="BOS"){if(W.push(j),j.prev==null)return[];j=j.prev}return W.reverse()}}var s0=t0;class d1{static#J=/、|。/g;#Q;#W;#j;#q;#V;constructor(J){this.#Q=J.token_info_dictionary,this.#W=J.unknown_dictionary,this.#j=new e0(J),this.#q=new s0(J.connection_costs),this.#V=new i0}static splitByPunctuation(J){let W=J.matchAll(d1.#J),Q=[],j=0;for(let V of W){let q=V.index;Q.push(J.slice(j,q+1)),j=q+1}if(j<J.length)Q.push(J.slice(j));return Q}tokenize(J){let W=d1.splitByPunctuation(J),Q=[];for(let j of W)this.#G(j,Q);return Q}#G(J,W=[]){let Q=this.#X(J),j=this.#q.search(Q),V=W.length>0?W[W.length-1].word_position:0,q=j.length;for(let G=0;G<q;G++){let P=j[G],U=this.#P(P,V);W.push(U)}return W}#P(J,W){if(J.type==="KNOWN"){let Q=this.#Q.getFeatures(J.name),j=Q==null?[]:Q.split(",");return this.#V.formatEntry(J.name,W+J.start_pos,J.type,j)}if(J.type==="UNKNOWN"){let Q=this.#W.getFeatures(J.name),j=Q==null?[]:Q.split(",");return this.#V.formatUnknownEntry(J.name,W+J.start_pos,J.type,j,J.surface_form)}return this.#V.formatEntry(J.name,W+J.start_pos,J.type,[])}#X(J){return this.#j.build(J)}}var J7=d1;var{create:l6,defineProperty:j7,getOwnPropertyDescriptor:o6,getOwnPropertyNames:i6,getPrototypeOf:n6}=Object,_6=Object.prototype.hasOwnProperty,a6=(J,W)=>()=>(W||J((W={exports:{}}).exports,W),W.exports),r6=(J,W,Q,j)=>{if(W&&typeof W=="object"||typeof W=="function")for(let V of i6(W))!_6.call(J,V)&&V!==Q&&j7(J,V,{get:()=>W[V],enumerable:!(j=o6(W,V))||j.enumerable});return J},e6=(J,W,Q)=>(Q=J!=null?l6(n6(J)):{},r6(W||!J||!J.__esModule?j7(Q,"default",{value:J,enumerable:!0}):Q,J)),t6=a6((J,W)=>{function Q(G){if(typeof G!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(G))}function j(G,P){for(var U="",X=0,Y=-1,z=0,F,K=0;K<=G.length;++K){if(K<G.length)F=G.charCodeAt(K);else{if(F===47)break;F=47}if(F===47){if(!(Y===K-1||z===1))if(Y!==K-1&&z===2){if(U.length<2||X!==2||U.charCodeAt(U.length-1)!==46||U.charCodeAt(U.length-2)!==46){if(U.length>2){var Z=U.lastIndexOf("/");if(Z!==U.length-1){Z===-1?(U="",X=0):(U=U.slice(0,Z),X=U.length-1-U.lastIndexOf("/")),Y=K,z=0;continue}}else if(U.length===2||U.length===1){U="",X=0,Y=K,z=0;continue}}P&&(U.length>0?U+="/..":U="..",X=2)}else U.length>0?U+="/"+G.slice(Y+1,K):U=G.slice(Y+1,K),X=K-Y-1;Y=K,z=0}else F===46&&z!==-1?++z:z=-1}return U}function V(G,P){var U=P.dir||P.root,X=P.base||(P.name||"")+(P.ext||"");return U?U===P.root?U+X:U+G+X:X}var q={resolve:function(){for(var G="",P=!1,U,X=arguments.length-1;X>=-1&&!P;X--){var Y;X>=0?Y=arguments[X]:(U===void 0&&(U=process.cwd()),Y=U),Q(Y),Y.length!==0&&(G=Y+"/"+G,P=Y.charCodeAt(0)===47)}return G=j(G,!P),P?G.length>0?"/"+G:"/":G.length>0?G:"."},normalize:function(G){if(Q(G),G.length===0)return".";var P=G.charCodeAt(0)===47,U=G.charCodeAt(G.length-1)===47;return G=j(G,!P),G.length===0&&!P&&(G="."),G.length>0&&U&&(G+="/"),P?"/"+G:G},isAbsolute:function(G){return Q(G),G.length>0&&G.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var G,P=0;P<arguments.length;++P){var U=arguments[P];Q(U),U.length>0&&(G===void 0?G=U:G+="/"+U)}return G===void 0?".":q.normalize(G)},relative:function(G,P){if(Q(G),Q(P),G===P||(G=q.resolve(G),P=q.resolve(P),G===P))return"";for(var U=1;U<G.length&&G.charCodeAt(U)===47;++U);for(var X=G.length,Y=X-U,z=1;z<P.length&&P.charCodeAt(z)===47;++z);for(var F=P.length,K=F-z,Z=Y<K?Y:K,$=-1,H=0;H<=Z;++H){if(H===Z){if(K>Z){if(P.charCodeAt(z+H)===47)return P.slice(z+H+1);if(H===0)return P.slice(z+H)}else Y>Z&&(G.charCodeAt(U+H)===47?$=H:H===0&&($=0));break}var N=G.charCodeAt(U+H),R=P.charCodeAt(z+H);if(N!==R)break;N===47&&($=H)}var B="";for(H=U+$+1;H<=X;++H)(H===X||G.charCodeAt(H)===47)&&(B.length===0?B+="..":B+="/..");return B.length>0?B+P.slice(z+$):(z+=$,P.charCodeAt(z)===47&&++z,P.slice(z))},_makeLong:function(G){return G},dirname:function(G){if(Q(G),G.length===0)return".";for(var P=G.charCodeAt(0),U=P===47,X=-1,Y=!0,z=G.length-1;z>=1;--z)if(P=G.charCodeAt(z),P===47){if(!Y){X=z;break}}else Y=!1;return X===-1?U?"/":".":U&&X===1?"//":G.slice(0,X)},basename:function(G,P){if(P!==void 0&&typeof P!="string")throw new TypeError('"ext" argument must be a string');Q(G);var U=0,X=-1,Y=!0,z;if(P!==void 0&&P.length>0&&P.length<=G.length){if(P.length===G.length&&P===G)return"";var F=P.length-1,K=-1;for(z=G.length-1;z>=0;--z){var Z=G.charCodeAt(z);if(Z===47){if(!Y){U=z+1;break}}else K===-1&&(Y=!1,K=z+1),F>=0&&(Z===P.charCodeAt(F)?--F===-1&&(X=z):(F=-1,X=K))}return U===X?X=K:X===-1&&(X=G.length),G.slice(U,X)}else{for(z=G.length-1;z>=0;--z)if(G.charCodeAt(z)===47){if(!Y){U=z+1;break}}else X===-1&&(Y=!1,X=z+1);return X===-1?"":G.slice(U,X)}},extname:function(G){Q(G);for(var P=-1,U=0,X=-1,Y=!0,z=0,F=G.length-1;F>=0;--F){var K=G.charCodeAt(F);if(K===47){if(!Y){U=F+1;break}continue}X===-1&&(Y=!1,X=F+1),K===46?P===-1?P=F:z!==1&&(z=1):P!==-1&&(z=-1)}return P===-1||X===-1||z===0||z===1&&P===X-1&&P===U+1?"":G.slice(P,X)},format:function(G){if(G===null||typeof G!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof G);return V("/",G)},parse:function(G){Q(G);var P={root:"",dir:"",base:"",ext:"",name:""};if(G.length===0)return P;var U=G.charCodeAt(0),X=U===47,Y;X?(P.root="/",Y=1):Y=0;for(var z=-1,F=0,K=-1,Z=!0,$=G.length-1,H=0;$>=Y;--$){if(U=G.charCodeAt($),U===47){if(!Z){F=$+1;break}continue}K===-1&&(Z=!1,K=$+1),U===46?z===-1?z=$:H!==1&&(H=1):z!==-1&&(H=-1)}return z===-1||K===-1||H===0||H===1&&z===K-1&&z===F+1?K!==-1&&(F===0&&X?P.base=P.name=G.slice(1,K):P.base=P.name=G.slice(F,K)):(F===0&&X?(P.name=G.slice(1,z),P.base=G.slice(1,K)):(P.name=G.slice(F,z),P.base=G.slice(F,K)),P.ext=G.slice(z,K)),F>0?P.dir=G.slice(0,F-1):X&&(P.dir="/"),P},sep:"/",delimiter:":",win32:null,posix:null};q.posix=q,W.exports=q}),V7=e6(t6()),k=V7,s6=V7,Q7=function(J){return J},q7=function(){throw new Error("Not implemented")};k.parse??=q7;s6.parse??=q7;var U1={resolve:k.resolve.bind(k),normalize:k.normalize.bind(k),isAbsolute:k.isAbsolute.bind(k),join:k.join.bind(k),relative:k.relative.bind(k),toNamespacedPath:Q7,dirname:k.dirname.bind(k),basename:k.basename.bind(k),extname:k.extname.bind(k),format:k.format.bind(k),parse:k.parse.bind(k),sep:"/",delimiter:":",win32:void 0,posix:void 0,_makeLong:Q7},W7={sep:"\\",delimiter:";",win32:void 0,...U1,posix:U1};U1.win32=W7.win32=W7;U1.posix=U1;var G7=U1;var o1=new TextEncoder,J8=new TextDecoder,l1=(J,W,Q)=>{if(J)switch(W){case 1:return new Int8Array(Q);case 2:return new Int16Array(Q);case 4:return new Int32Array(Q);default:throw new RangeError(`Invalid newArray parameter element_bytes:${W}`)}switch(W){case 1:return new Uint8Array(Q);case 2:return new Uint16Array(Q);case 4:return new Uint32Array(Q);default:throw new RangeError(`Invalid newArray parameter element_bytes:${W}`)}},Q8=(J,W,Q)=>{return J.slice(W,W+Q)};class U0{#J;#Q;#W;constructor(J=1024){if(this.#J=1,this.#Q={signed:!0,bytes:4,array:l1(!0,4,J)},this.#W={signed:!0,bytes:4,array:l1(!0,4,J)},!this.#Q.array||!this.#W.array)throw new Error("Initialization failed: Arrays are null");this.#Q.array[0]=1,this.#W.array[0]=0,this.initBase(this.#Q.array,1,this.#Q.array.length),this.initCheck(this.#W.array,1,this.#W.array.length)}initBase(J,W,Q){if(!this.#Q.array||!this.#W.array)throw new Error("initBase() failed: Arrays not initialized");for(let j=W;j<Q;j++)J[j]=-j+1;if(0<this.#W.array[this.#W.array.length-1]){let j=this.#W.array.length-2;while(0<this.#W.array[j])j--;J[W]=-j}}initCheck(J,W,Q){for(let j=W;j<Q;j++)J[j]=-j-1}realloc(J){if(!this.#Q.array||!this.#W.array)throw new Error("initBase() failed: Arrays not initialized");let W=J*2,Q=l1(this.#Q.signed,this.#Q.bytes,W);this.initBase(Q,this.#Q.array.length,W),Q.set(this.#Q.array),this.#Q.array=Q;let j=l1(this.#W.signed,this.#W.bytes,W);this.initCheck(j,this.#W.array.length,W),j.set(this.#W.array),this.#W.array=j}getBaseBuffer(){return this.#Q.array}getCheckBuffer(){return this.#W.array}loadBaseBuffer(J){return this.#Q.array=J,this}loadCheckBuffer(J){return this.#W.array=J,this}size(){if(!this.#Q.array||!this.#W.array)throw new Error("failed: Arrays not initialized");return Math.max(this.#Q.array.length,this.#W.array.length)}getBase(J){if(!this.#Q.array)throw new Error("failed: Arrays not initialized");if(this.#Q.array.length-1<J)return-J+1;return this.#Q.array[J]}getCheck(J){if(!this.#W.array)throw new Error("failed: Arrays not initialized");if(this.#W.array.length-1<J)return-J-1;return this.#W.array[J]}setBase(J,W){if(!this.#Q.array)throw new Error("failed: Arrays not initialized");if(this.#Q.array.length-1<J)this.realloc(J);this.#Q.array[J]=W}setCheck(J,W){if(!this.#W.array)throw new Error("failed: Arrays not initialized");if(this.#W.array.length-1<J)this.realloc(J);this.#W.array[J]=W}setFirstUnusedNode(J){this.#J=J}getFirstUnusedNode(){return this.#J}shrink(){if(!this.#Q.array||!this.#W.array)throw new Error("failed: Arrays not initialized");let J=Math.max(this.#Q.array.length,this.#W.array.length)-1;while(0<=this.#W.array[J])J--;this.#Q.array=this.#Q.array.subarray(0,J+2),this.#W.array=this.#W.array.subarray(0,J+2)}calc(){if(!this.#Q.array||!this.#W.array)throw new Error("failed: Arrays not initialized");let J=0,W=this.#W.array.length;for(let Q=0;Q<W;Q++)if(this.#W.array[Q]<0)J++;return{all:W,unused:J,efficiency:(W-J)/W}}dump(){if(!this.#Q.array||!this.#W.array)throw new Error("failed: Arrays not initialized");let J="",W="";for(let Q of this.#Q.array)J+=` ${Q}`;for(let Q of this.#W.array)W+=` ${Q}`;return console.log(`base:${J}`),console.log(`check:${W}`),`base:${J} check:${W}`}}class P7{#J;#Q;constructor(J=1024){this.#J=new U0(J),this.#Q=[]}append(J,W){return this.#Q.push({k:J,v:W}),this}build(J=this.#Q,W=!1){if(J==null)return new i1(this.#J);let Q=J.map((j)=>{return{k:o1.encode(j.k+"\x00"),v:j.v}});if(W)this.#Q=Q;else this.#Q=Q.sort((j,V)=>{let q=j.k,G=V.k,P=Math.min(q.length,G.length);for(let U=0;U<P;U++){if(q[U]===G[U])continue;return q[U]-G[U]}return q.length-G.length});return this.#W(0,0,0,this.#Q.length),new i1(this.#J)}#W(J,W,Q,j){let V=this.getChildrenInfo(W,Q,j),q=this.findAllocatableBase(V);this.setBufferController(J,V,q);for(let G=0;G<V.length;G=G+3){let P=V[G];if(P===0)continue;let U=V[G+1],X=V[G+2],Y=q+P;this.#W(Y,W+1,U,X)}}getChildrenInfo(J,W,Q){let j=this.#Q[W].k[J],V=new Int32Array(Q*3),q=0;V[q++]=Number.parseInt(`${j}`),V[q++]=W;let G=W,P=W;for(;G<W+Q;G++){let U=this.#Q[G].k[J];if(j!==U)V[q++]=G-P,V[q++]=Number.parseInt(`${U}`),V[q++]=G,j=U,P=G}return V[q++]=G-P,V=V.subarray(0,q),V}setBufferController(J,W,Q){let j=this.#J;j.setBase(J,Q);for(let V=0;V<W.length;V=V+3){let q=W[V],G=Q+q,P=-j.getBase(G),U=-j.getCheck(G);if(G!==j.getFirstUnusedNode())j.setCheck(P,-U);else j.setFirstUnusedNode(U);j.setBase(U,-P);let X=J;if(j.setCheck(G,X),q===0){let Y=W[V+1],z=this.#Q[Y].v;if(z==null)z=0;let F=-z-1;j.setBase(G,F)}}}findAllocatableBase(J){let W=this.#J,Q,j=W.getFirstUnusedNode();while(!0){if(Q=j-J[0],Q<0){j=-W.getCheck(j);continue}let V=!0;for(let q=0;q<J.length;q=q+3){let G=J[q],P=Q+G;if(!this.isUnusedNode(P)){j=-W.getCheck(j),V=!1;break}}if(V)return Q}}isUnusedNode(J){let Q=this.#J.getCheck(J);if(J===0)return!1;if(Q<0)return!0;return!1}}class i1{#J;constructor(J){this.#J=J,this.#J.shrink()}contain(J){let W=J,Q=this.#J;W+="\x00";let j=o1.encode(W),V=0,q=-1;for(let G=0;G<j.length;G++){let P=j[G];if(q=this.traverse(V,P),q===-1)return!1;if(Q.getBase(q)<=0)return!0;V=q}return!1}lookup(J){let W=J;W+="\x00";let Q=o1.encode(W),j=0,V=-1;for(let G=0;G<Q.length;G++){let P=Q[G];if(V=this.traverse(j,P),V===-1)return-1;j=V}let q=this.#J.getBase(V);if(q<=0)return-q-1;return-1}commonPrefixSearch(J){let W=o1.encode(J),Q=[],j=0,V=-1;for(let q=0;q<W.length;q++){let G=W[q];if(V=this.traverse(j,G),V!==-1){j=V;let P=this.traverse(V,0);if(P!==-1){let U=this.#J.getBase(P),X={k:"",v:0};if(U<=0)X.v=-U-1;X.k=J8.decode(Q8(W,0,q+1)),Q.push(X)}continue}break}return Q}traverse(J,W){let Q=this.#J.getBase(J)+W;if(this.#J.getCheck(Q)===J)return Q;return-1}size(){return this.#J.size()}calc(){return this.#J.calc()}dump(){return this.#J.dump()}}var W8={builder:(J=1024)=>{return new P7(J)},load:(J,W)=>{let Q=new U0(0);return Q.loadBaseBuffer(J),Q.loadCheckBuffer(W),new i1(Q)}};var B1=W8;class X7{forward_dimension;backward_dimension;#J;constructor(J,W){this.forward_dimension=J,this.backward_dimension=W,this.#J=new Int16Array(J*W+2),this.#J[0]=J,this.#J[1]=W}put(J,W,Q){let j=J*this.backward_dimension+W+2;if(this.#J.length<j+1)throw"ConnectionCosts buffer overflow";this.#J[j]=Q}get(J,W){let Q=J*this.backward_dimension+W+2;if(this.#J.length<Q+1)throw"ConnectionCosts buffer overflow";return this.#J[Q]}loadConnectionCosts(J){this.forward_dimension=J[0],this.backward_dimension=J[1],this.#J=J}}var n1=X7;var j8=new TextEncoder,V8=new TextDecoder;class Y7{buffer;position=0;constructor(J){if(J===void 0)this.buffer=new Uint8Array(1048576),this.position=0;else if(typeof J==="number"){let W=J;this.buffer=new Uint8Array(W),this.position=0}else if(J instanceof Uint8Array)this.buffer=J,this.position=0;else throw`${typeof J} is invalid parameter type for ByteBuffer constructor`}size(){return this.buffer.length}reallocate(){let J=new Uint8Array(this.buffer.length*2);J.set(this.buffer),this.buffer=J}shrink(){return this.buffer=this.buffer.subarray(0,this.position),this.buffer}put(J){if(this.buffer.length<this.position+1)this.reallocate();if(typeof J==="boolean")this.buffer[this.position++]=J?1:0;else this.buffer[this.position++]=J}get(J=null){let W=J;if(W==null)W=this.position,this.position+=1;if(this.buffer.length<W+1)return 0;return this.buffer[W]}putShort(J){if(65535<J)throw`${J} is over short value`;let W=255&J,Q=(65280&J)>>8;this.put(W),this.put(Q)}getShort(J){let W=J;if(W==null)W=this.position,this.position+=2;if(this.buffer.length<W+2)return 0;let Q=this.buffer[W],V=(this.buffer[W+1]<<8)+Q;if(V&32768)V=-(V-1^65535);return V}putInt(J){if(4294967295<J)throw`${J} is over integer value`;let W=255&J,Q=(65280&J)>>8,j=(16711680&J)>>16,V=(4278190080&J)>>24;this.put(W),this.put(Q),this.put(j),this.put(V)}getInt(J=null){let W=J;if(W==null)W=this.position,this.position+=4;if(this.buffer.length<W+4)return 0;let Q=this.buffer[W],j=this.buffer[W+1],V=this.buffer[W+2];return(this.buffer[W+3]<<24)+(V<<16)+(j<<8)+Q}readInt(){let J=this.position;return this.position+=4,this.getInt(J)}putString(J){let W=j8.encode(J);if(!W)throw new Error("bytes null.");for(let Q of W)this.put(Q);this.put(0)}getString(J=this.position){let W=J,Q=[],j;while(W<this.buffer.length){if(j=this.get(W++),j===0)break;Q.push(j)}return this.position=W,V8.decode(new Uint8Array(Q))}getUtf32(J=null){let W=J;if(W==null)W=this.position,this.position+=4;if(this.buffer.length<W+4)return 0;let Q=this.buffer.subarray(W,W+4);return new DataView(Q.buffer).getUint32(0,!1)}getBool(J=null){let W=J;if(W==null)W=this.position,this.position+=1;if(this.buffer.length<W+1)return!1;return Boolean(this.buffer[W])}}var u=Y7;class U7{dictionary;target_map;pos_buffer;constructor(){this.dictionary=new u(10485760),this.target_map=new Map,this.pos_buffer=new u(10485760)}buildDictionary(J){let W={};for(let Q=0;Q<J.length;Q++){let j=J[Q];if(j.length<4)continue;let V=j[0],q=Number.parseInt(j[1]),G=Number.parseInt(j[2]),P=Number.parseInt(j[3]),U=j.slice(4).join(",");if(!Number.isFinite(q)||!Number.isFinite(G)||!Number.isFinite(P))console.log(j);let X=this.put(q,G,P,V,U);W[X]=V}return this.dictionary.shrink(),this.pos_buffer.shrink(),W}put(J,W,Q,j,V){let q=this.dictionary.position,G=this.pos_buffer.position;return this.dictionary.putShort(J),this.dictionary.putShort(W),this.dictionary.putShort(Q),this.dictionary.putInt(G),this.pos_buffer.putString(`${j},${V}`),q}addMapping(J,W){let Q=this.target_map.get(J);if(Q==null)Q=[];Q.push(W),this.target_map.set(J,Q)}targetMapToBuffer(){let J=new u;J.putInt(Object.keys(this.target_map).length);for(let W in this.target_map){let Q=Number.parseInt(W),j=this.target_map.get(Q);if(!j)continue;let V=j.length;J.putInt(Q),J.putInt(V);for(let q of j)J.putInt(q)}return J.shrink()}loadDictionary(J){return this.dictionary=new u(J),this}loadPosVector(J){return this.pos_buffer=new u(J),this}loadTargetMap(J){let W=new u(J);W.position=0,this.target_map=new Map,W.readInt();while(!0){if(W.buffer.length<W.position+1)break;let Q=W.readInt(),j=W.readInt();for(let V=0;V<j;V++){let q=W.readInt();this.addMapping(Q,q)}}return this}getFeatures(J){if(Number.isNaN(J))return null;let W=this.dictionary.getInt(J+6);return this.pos_buffer.getString(W)}}var K1=U7;class K7{class_id;class_name;is_always_invoke;is_grouping;max_length;constructor(J,W,Q,j,V){this.class_id=J,this.class_name=W,this.is_always_invoke=Q,this.is_grouping=j,this.max_length=V}}var _1=K7;class K0{#J;#Q;constructor(){this.#J=[],this.#Q=new Map}static load(J){let W=new K0,Q=[],j=new u(J);while(j.position+1<j.size()){let V=j.getBool(),q=j.getBool(),G=j.getInt(),P=j.getString();Q.push(new _1(Q.length,P,V,q,G))}return W.init(Q),W}init(J){if(J==null)return;let W=J.length;for(let Q=0;Q<W;Q++){let j=J[Q];this.#J[Q]=j,this.#Q.set(j.class_name,Q)}}getCharacterClass(J){return this.#J[J]}lookup(J){let W=this.#Q.get(J);if(W==null)return null;return W}toBuffer(){let J=new u;for(let W=0;W<this.#J.length;W++){let Q=this.#J[W];J.put(Q.is_always_invoke),J.put(Q.is_grouping),J.putInt(Q.max_length),J.putString(Q.class_name)}return J.shrink(),J.buffer}}var a1=K0;var F0="DEFAULT";class z0{character_category_map;compatible_category_map;invoke_definition_map;constructor(){this.character_category_map=new Uint8Array(65536),this.compatible_category_map=new Uint32Array(65536),this.invoke_definition_map=null}load(J,W,Q){let j=new z0;return j.character_category_map=J,j.compatible_category_map=W,j.invoke_definition_map=a1.load(Q),j}static parseCharCategory(J,W){let Q=W[1],j=Number.parseInt(W[2]),V=Number.parseInt(W[3]),q=Number.parseInt(W[4]);if(!Number.isFinite(j)||j!==0&&j!==1)return console.log(`char.def parse error. INVOKE is 0 or 1 in:${j}`),null;if(!Number.isFinite(V)||V!==0&&V!==1)return console.log(`char.def parse error. GROUP is 0 or 1 in:${V}`),null;if(!Number.isFinite(q)||q<0)return console.log(`char.def parse error. LENGTH is 1 to n:${q}`),null;return new _1(J,Q,j===1,V===1,q)}static parseCategoryMapping(J){let W=Number.parseInt(J[1]);if(!Number.isFinite(W)||W<0||W>65535)console.log(`char.def parse error. CODE is invalid:${W}`);return{start:W,default:J[2],compatible:3<J.length?J.slice(3):[]}}static parseRangeCategoryMapping(J){let W=Number.parseInt(J[1]),Q=Number.parseInt(J[2]);if(!Number.isFinite(W)||W<0||W>65535)console.log(`char.def parse error. CODE is invalid:${W}`);if(!Number.isFinite(Q)||Q<0||Q>65535)console.log(`char.def parse error. CODE is invalid:${Q}`);return{start:W,end:Q,default:J[3],compatible:4<J.length?J.slice(4):[]}}initCategoryMappings(J){if(!this.invoke_definition_map)throw new Error("CharacterDefinition.initCategoryMappings: invoke_definition_map is null");let W=0;if(J!=null){let V=J.length;for(let q=0;q<V;q++){let G=J[q];for(W=G.start;W<=(G.end||G.start);W++){let P=this.invoke_definition_map.lookup(G.default);if(P==null)throw new Error("CharacterDefinition.initCategoryMappings: invoke_definition_map.lookup() returns null");this.character_category_map[W]=P;for(let U=0;U<G.compatible.length;U++){let X=this.compatible_category_map[W],Y=G.compatible[U];if(Y==null)continue;let z=this.invoke_definition_map.lookup(Y);if(z==null)continue;let F=1<<z;X=X|F,this.compatible_category_map[W]=X}}}}let Q=this.invoke_definition_map.lookup(F0);if(Q==null)return;let j=this.compatible_category_map.length;for(W=0;W<j;W++)if(this.character_category_map[W]===0)this.character_category_map[W]=1<<Q}lookupCompatibleCategory(J){let W=[];if(!this.invoke_definition_map)throw new Error("CharacterDefinition.lookupCompatibleCategory: invoke_definition_map is null");let Q=J.charCodeAt(0),j=null;if(Q<this.compatible_category_map.length)j=this.compatible_category_map[Q];if(j==null||j===0)return W;for(let V=0;V<32;V++)if(j<<31-V>>>31===1){let q=this.invoke_definition_map.getCharacterClass(V);if(q==null)continue;W.push(q)}return W}lookup(J){if(!this.invoke_definition_map)throw new Error("CharacterDefinition.lookup: invoke_definition_map is null");let W=null,Q=J.charCodeAt(0);if(c1.isSurrogatePair(J))W=this.invoke_definition_map.lookup(F0);else if(Q<this.character_category_map.length)W=this.character_category_map[Q];if(W==null)W=this.invoke_definition_map.lookup(F0);return this.invoke_definition_map.getCharacterClass(W)}}var J1=z0;class F7 extends K1{#J=null;characterDefinition(J){return this.#J=J,this}lookup(J){if(this.#J==null)throw new Error("CharacterDefinition is not set");return this.#J.lookup(J)}lookupCompatibleCategory(J){if(this.#J==null)throw new Error("CharacterDefinition is not set");return this.#J.lookupCompatibleCategory(J)}loadUnknownDictionaries(J,W,Q,j,V,q){this.loadDictionary(J),this.loadPosVector(W),this.loadTargetMap(Q),this.#J=new J1().load(j,V,q)}}var r1=F7;class z7{trie;token_info_dictionary;connection_costs;unknown_dictionary;constructor(J,W,Q,j){this.trie=J??B1.builder(0).build([{k:"",v:1}]),this.token_info_dictionary=W??new K1,this.connection_costs=Q??new n1(0,0),this.unknown_dictionary=j??new r1}loadTrie(J,W){return this.trie=B1.load(J,W),this}loadTokenInfoDictionaries(J,W,Q){return this.token_info_dictionary.loadDictionary(J),this.token_info_dictionary.loadPosVector(W),this.token_info_dictionary.loadTargetMap(Q),this}loadConnectionCosts(J){return this.connection_costs.loadConnectionCosts(J),this}loadUnknownDictionaries(J,W,Q,j,V,q){return this.unknown_dictionary.loadUnknownDictionaries(J,W,Q,j,V,q),this}}var e1=z7;/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */function O1(J){let W=J.length;while(--W>=0)J[W]=0}var q8=0,t7=1,G8=2,P8=3,X8=258,h0=29,p1=256,g1=p1+1+h0,Z1=30,b0=19,s7=2*g1+1,Q1=15,Z0=16,Y8=7,m0=256,J6=16,Q6=17,W6=18,g0=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),j0=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),U8=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),j6=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),K8=512,i=new Array((g1+2)*2);O1(i);var R1=new Array(Z1*2);O1(R1);var T1=new Array(K8);O1(T1);var k1=new Array(X8-P8+1);O1(k1);var u0=new Array(h0);O1(u0);var V0=new Array(Z1);O1(V0);function L0(J,W,Q,j,V){this.static_tree=J,this.extra_bits=W,this.extra_base=Q,this.elems=j,this.max_length=V,this.has_stree=J&&J.length}var V6,q6,G6;function H0(J,W){this.dyn_tree=J,this.max_code=0,this.stat_desc=W}var P6=(J)=>{return J<256?T1[J]:T1[256+(J>>>7)]},x1=(J,W)=>{J.pending_buf[J.pending++]=W&255,J.pending_buf[J.pending++]=W>>>8&255},y=(J,W,Q)=>{if(J.bi_valid>Z0-Q)J.bi_buf|=W<<J.bi_valid&65535,x1(J,J.bi_buf),J.bi_buf=W>>Z0-J.bi_valid,J.bi_valid+=Q-Z0;else J.bi_buf|=W<<J.bi_valid&65535,J.bi_valid+=Q},c=(J,W,Q)=>{y(J,Q[W*2],Q[W*2+1])},X6=(J,W)=>{let Q=0;do Q|=J&1,J>>>=1,Q<<=1;while(--W>0);return Q>>>1},F8=(J)=>{if(J.bi_valid===16)x1(J,J.bi_buf),J.bi_buf=0,J.bi_valid=0;else if(J.bi_valid>=8)J.pending_buf[J.pending++]=J.bi_buf&255,J.bi_buf>>=8,J.bi_valid-=8},z8=(J,W)=>{let{dyn_tree:Q,max_code:j}=W,V=W.stat_desc.static_tree,q=W.stat_desc.has_stree,G=W.stat_desc.extra_bits,P=W.stat_desc.extra_base,U=W.stat_desc.max_length,X,Y,z,F,K,Z,$=0;for(F=0;F<=Q1;F++)J.bl_count[F]=0;Q[J.heap[J.heap_max]*2+1]=0;for(X=J.heap_max+1;X<s7;X++){if(Y=J.heap[X],F=Q[Q[Y*2+1]*2+1]+1,F>U)F=U,$++;if(Q[Y*2+1]=F,Y>j)continue;if(J.bl_count[F]++,K=0,Y>=P)K=G[Y-P];if(Z=Q[Y*2],J.opt_len+=Z*(F+K),q)J.static_len+=Z*(V[Y*2+1]+K)}if($===0)return;do{F=U-1;while(J.bl_count[F]===0)F--;J.bl_count[F]--,J.bl_count[F+1]+=2,J.bl_count[U]--,$-=2}while($>0);for(F=U;F!==0;F--){Y=J.bl_count[F];while(Y!==0){if(z=J.heap[--X],z>j)continue;if(Q[z*2+1]!==F)J.opt_len+=(F-Q[z*2+1])*Q[z*2],Q[z*2+1]=F;Y--}}},Y6=(J,W,Q)=>{let j=new Array(Q1+1),V=0,q,G;for(q=1;q<=Q1;q++)V=V+Q[q-1]<<1,j[q]=V;for(G=0;G<=W;G++){let P=J[G*2+1];if(P===0)continue;J[G*2]=X6(j[P]++,P)}},Z8=()=>{let J,W,Q,j,V,q=new Array(Q1+1);Q=0;for(j=0;j<h0-1;j++){u0[j]=Q;for(J=0;J<1<<g0[j];J++)k1[Q++]=j}k1[Q-1]=j,V=0;for(j=0;j<16;j++){V0[j]=V;for(J=0;J<1<<j0[j];J++)T1[V++]=j}V>>=7;for(;j<Z1;j++){V0[j]=V<<7;for(J=0;J<1<<j0[j]-7;J++)T1[256+V++]=j}for(W=0;W<=Q1;W++)q[W]=0;J=0;while(J<=143)i[J*2+1]=8,J++,q[8]++;while(J<=255)i[J*2+1]=9,J++,q[9]++;while(J<=279)i[J*2+1]=7,J++,q[7]++;while(J<=287)i[J*2+1]=8,J++,q[8]++;Y6(i,g1+1,q);for(J=0;J<Z1;J++)R1[J*2+1]=5,R1[J*2]=X6(J,5);V6=new L0(i,g0,p1+1,g1,Q1),q6=new L0(R1,j0,0,Z1,Q1),G6=new L0(new Array(0),U8,0,b0,Y8)},U6=(J)=>{let W;for(W=0;W<g1;W++)J.dyn_ltree[W*2]=0;for(W=0;W<Z1;W++)J.dyn_dtree[W*2]=0;for(W=0;W<b0;W++)J.bl_tree[W*2]=0;J.dyn_ltree[m0*2]=1,J.opt_len=J.static_len=0,J.sym_next=J.matches=0},K6=(J)=>{if(J.bi_valid>8)x1(J,J.bi_buf);else if(J.bi_valid>0)J.pending_buf[J.pending++]=J.bi_buf;J.bi_buf=0,J.bi_valid=0},Z7=(J,W,Q,j)=>{let V=W*2,q=Q*2;return J[V]<J[q]||J[V]===J[q]&&j[W]<=j[Q]},O0=(J,W,Q)=>{let j=J.heap[Q],V=Q<<1;while(V<=J.heap_len){if(V<J.heap_len&&Z7(W,J.heap[V+1],J.heap[V],J.depth))V++;if(Z7(W,j,J.heap[V],J.depth))break;J.heap[Q]=J.heap[V],Q=V,V<<=1}J.heap[Q]=j},L7=(J,W,Q)=>{let j,V,q=0,G,P;if(J.sym_next!==0)do if(j=J.pending_buf[J.sym_buf+q++]&255,j+=(J.pending_buf[J.sym_buf+q++]&255)<<8,V=J.pending_buf[J.sym_buf+q++],j===0)c(J,V,W);else{if(G=k1[V],c(J,G+p1+1,W),P=g0[G],P!==0)V-=u0[G],y(J,V,P);if(j--,G=P6(j),c(J,G,Q),P=j0[G],P!==0)j-=V0[G],y(J,j,P)}while(q<J.sym_next);c(J,m0,W)},T0=(J,W)=>{let Q=W.dyn_tree,j=W.stat_desc.static_tree,V=W.stat_desc.has_stree,q=W.stat_desc.elems,G,P,U=-1,X;J.heap_len=0,J.heap_max=s7;for(G=0;G<q;G++)if(Q[G*2]!==0)J.heap[++J.heap_len]=U=G,J.depth[G]=0;else Q[G*2+1]=0;while(J.heap_len<2)if(X=J.heap[++J.heap_len]=U<2?++U:0,Q[X*2]=1,J.depth[X]=0,J.opt_len--,V)J.static_len-=j[X*2+1];W.max_code=U;for(G=J.heap_len>>1;G>=1;G--)O0(J,Q,G);X=q;do G=J.heap[1],J.heap[1]=J.heap[J.heap_len--],O0(J,Q,1),P=J.heap[1],J.heap[--J.heap_max]=G,J.heap[--J.heap_max]=P,Q[X*2]=Q[G*2]+Q[P*2],J.depth[X]=(J.depth[G]>=J.depth[P]?J.depth[G]:J.depth[P])+1,Q[G*2+1]=Q[P*2+1]=X,J.heap[1]=X++,O0(J,Q,1);while(J.heap_len>=2);J.heap[--J.heap_max]=J.heap[1],z8(J,W),Y6(Q,U,J.bl_count)},H7=(J,W,Q)=>{let j,V=-1,q,G=W[1],P=0,U=7,X=4;if(G===0)U=138,X=3;W[(Q+1)*2+1]=65535;for(j=0;j<=Q;j++){if(q=G,G=W[(j+1)*2+1],++P<U&&q===G)continue;else if(P<X)J.bl_tree[q*2]+=P;else if(q!==0){if(q!==V)J.bl_tree[q*2]++;J.bl_tree[J6*2]++}else if(P<=10)J.bl_tree[Q6*2]++;else J.bl_tree[W6*2]++;if(P=0,V=q,G===0)U=138,X=3;else if(q===G)U=6,X=3;else U=7,X=4}},O7=(J,W,Q)=>{let j,V=-1,q,G=W[1],P=0,U=7,X=4;if(G===0)U=138,X=3;for(j=0;j<=Q;j++){if(q=G,G=W[(j+1)*2+1],++P<U&&q===G)continue;else if(P<X)do c(J,q,J.bl_tree);while(--P!==0);else if(q!==0){if(q!==V)c(J,q,J.bl_tree),P--;c(J,J6,J.bl_tree),y(J,P-3,2)}else if(P<=10)c(J,Q6,J.bl_tree),y(J,P-3,3);else c(J,W6,J.bl_tree),y(J,P-11,7);if(P=0,V=q,G===0)U=138,X=3;else if(q===G)U=6,X=3;else U=7,X=4}},L8=(J)=>{let W;H7(J,J.dyn_ltree,J.l_desc.max_code),H7(J,J.dyn_dtree,J.d_desc.max_code),T0(J,J.bl_desc);for(W=b0-1;W>=3;W--)if(J.bl_tree[j6[W]*2+1]!==0)break;return J.opt_len+=3*(W+1)+5+5+4,W},H8=(J,W,Q,j)=>{let V;y(J,W-257,5),y(J,Q-1,5),y(J,j-4,4);for(V=0;V<j;V++)y(J,J.bl_tree[j6[V]*2+1],3);O7(J,J.dyn_ltree,W-1),O7(J,J.dyn_dtree,Q-1)},O8=(J)=>{let W=4093624447,Q;for(Q=0;Q<=31;Q++,W>>>=1)if(W&1&&J.dyn_ltree[Q*2]!==0)return 0;if(J.dyn_ltree[18]!==0||J.dyn_ltree[20]!==0||J.dyn_ltree[26]!==0)return 1;for(Q=32;Q<p1;Q++)if(J.dyn_ltree[Q*2]!==0)return 1;return 0},N7=!1,N8=(J)=>{if(!N7)Z8(),N7=!0;J.l_desc=new H0(J.dyn_ltree,V6),J.d_desc=new H0(J.dyn_dtree,q6),J.bl_desc=new H0(J.bl_tree,G6),J.bi_buf=0,J.bi_valid=0,U6(J)},F6=(J,W,Q,j)=>{if(y(J,(q8<<1)+(j?1:0),3),K6(J),x1(J,Q),x1(J,~Q),Q)J.pending_buf.set(J.window.subarray(W,W+Q),J.pending);J.pending+=Q},$8=(J)=>{y(J,t7<<1,3),c(J,m0,i),F8(J)},M8=(J,W,Q,j)=>{let V,q,G=0;if(J.level>0){if(J.strm.data_type===2)J.strm.data_type=O8(J);if(T0(J,J.l_desc),T0(J,J.d_desc),G=L8(J),V=J.opt_len+3+7>>>3,q=J.static_len+3+7>>>3,q<=V)V=q}else V=q=Q+5;if(Q+4<=V&&W!==-1)F6(J,W,Q,j);else if(J.strategy===4||q===V)y(J,(t7<<1)+(j?1:0),3),L7(J,i,R1);else y(J,(G8<<1)+(j?1:0),3),H8(J,J.l_desc.max_code+1,J.d_desc.max_code+1,G+1),L7(J,J.dyn_ltree,J.dyn_dtree);if(U6(J),j)K6(J)},B8=(J,W,Q)=>{if(J.pending_buf[J.sym_buf+J.sym_next++]=W,J.pending_buf[J.sym_buf+J.sym_next++]=W>>8,J.pending_buf[J.sym_buf+J.sym_next++]=Q,W===0)J.dyn_ltree[Q*2]++;else J.matches++,W--,J.dyn_ltree[(k1[Q]+p1+1)*2]++,J.dyn_dtree[P6(W)*2]++;return J.sym_next===J.sym_end},C8=N8,v8=F6,I8=M8,R8=B8,D8=$8,A8={_tr_init:C8,_tr_stored_block:v8,_tr_flush_block:I8,_tr_tally:R8,_tr_align:D8},g8=(J,W,Q,j)=>{let V=J&65535|0,q=J>>>16&65535|0,G=0;while(Q!==0){G=Q>2000?2000:Q,Q-=G;do V=V+W[j++]|0,q=q+V|0;while(--G);V%=65521,q%=65521}return V|q<<16|0},w1=g8,T8=()=>{let J,W=[];for(var Q=0;Q<256;Q++){J=Q;for(var j=0;j<8;j++)J=J&1?3988292384^J>>>1:J>>>1;W[Q]=J}return W},k8=new Uint32Array(T8()),x8=(J,W,Q,j)=>{let V=k8,q=j+Q;J^=-1;for(let G=j;G<q;G++)J=J>>>8^V[(J^W[G])&255];return J^-1},w=x8,V1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},P1={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:w8,_tr_stored_block:k0,_tr_flush_block:S8,_tr_tally:r,_tr_align:E8}=A8,{Z_NO_FLUSH:e,Z_PARTIAL_FLUSH:y8,Z_FULL_FLUSH:p8,Z_FINISH:b,Z_BLOCK:$7,Z_OK:S,Z_STREAM_END:M7,Z_STREAM_ERROR:d,Z_DATA_ERROR:h8,Z_BUF_ERROR:N0,Z_DEFAULT_COMPRESSION:b8,Z_FILTERED:m8,Z_HUFFMAN_ONLY:t1,Z_RLE:u8,Z_FIXED:f8,Z_DEFAULT_STRATEGY:c8,Z_UNKNOWN:d8,Z_DEFLATED:P0}=P1,l8=9,o8=15,i8=8,n8=29,_8=256,x0=_8+1+n8,a8=30,r8=19,e8=2*x0+1,t8=15,v=3,a=258,l=a+v+1,s8=32,L1=42,f0=57,w0=69,S0=73,E0=91,y0=103,W1=113,v1=666,E=1,N1=2,q1=3,$1=4,JJ=3,j1=(J,W)=>{return J.msg=V1[W],W},B7=(J)=>{return J*2-(J>4?9:0)},_=(J)=>{let W=J.length;while(--W>=0)J[W]=0},QJ=(J)=>{let W,Q,j,V=J.w_size;W=J.hash_size,j=W;do Q=J.head[--j],J.head[j]=Q>=V?Q-V:0;while(--W);W=V,j=W;do Q=J.prev[--j],J.prev[j]=Q>=V?Q-V:0;while(--W)},WJ=(J,W,Q)=>(W<<J.hash_shift^Q)&J.hash_mask,t=WJ,p=(J)=>{let W=J.state,Q=W.pending;if(Q>J.avail_out)Q=J.avail_out;if(Q===0)return;if(J.output.set(W.pending_buf.subarray(W.pending_out,W.pending_out+Q),J.next_out),J.next_out+=Q,W.pending_out+=Q,J.total_out+=Q,J.avail_out-=Q,W.pending-=Q,W.pending===0)W.pending_out=0},h=(J,W)=>{S8(J,J.block_start>=0?J.block_start:-1,J.strstart-J.block_start,W),J.block_start=J.strstart,p(J.strm)},A=(J,W)=>{J.pending_buf[J.pending++]=W},C1=(J,W)=>{J.pending_buf[J.pending++]=W>>>8&255,J.pending_buf[J.pending++]=W&255},p0=(J,W,Q,j)=>{let V=J.avail_in;if(V>j)V=j;if(V===0)return 0;if(J.avail_in-=V,W.set(J.input.subarray(J.next_in,J.next_in+V),Q),J.state.wrap===1)J.adler=w1(J.adler,W,V,Q);else if(J.state.wrap===2)J.adler=w(J.adler,W,V,Q);return J.next_in+=V,J.total_in+=V,V},z6=(J,W)=>{let{max_chain_length:Q,strstart:j}=J,V,q,G=J.prev_length,P=J.nice_match,U=J.strstart>J.w_size-l?J.strstart-(J.w_size-l):0,X=J.window,Y=J.w_mask,z=J.prev,F=J.strstart+a,K=X[j+G-1],Z=X[j+G];if(J.prev_length>=J.good_match)Q>>=2;if(P>J.lookahead)P=J.lookahead;do{if(V=W,X[V+G]!==Z||X[V+G-1]!==K||X[V]!==X[j]||X[++V]!==X[j+1])continue;j+=2,V++;do;while(X[++j]===X[++V]&&X[++j]===X[++V]&&X[++j]===X[++V]&&X[++j]===X[++V]&&X[++j]===X[++V]&&X[++j]===X[++V]&&X[++j]===X[++V]&&X[++j]===X[++V]&&j<F);if(q=a-(F-j),j=F-a,q>G){if(J.match_start=W,G=q,q>=P)break;K=X[j+G-1],Z=X[j+G]}}while((W=z[W&Y])>U&&--Q!==0);if(G<=J.lookahead)return G;return J.lookahead},H1=(J)=>{let W=J.w_size,Q,j,V;do{if(j=J.window_size-J.lookahead-J.strstart,J.strstart>=W+(W-l)){if(J.window.set(J.window.subarray(W,W+W-j),0),J.match_start-=W,J.strstart-=W,J.block_start-=W,J.insert>J.strstart)J.insert=J.strstart;QJ(J),j+=W}if(J.strm.avail_in===0)break;if(Q=p0(J.strm,J.window,J.strstart+J.lookahead,j),J.lookahead+=Q,J.lookahead+J.insert>=v){V=J.strstart-J.insert,J.ins_h=J.window[V],J.ins_h=t(J,J.ins_h,J.window[V+1]);while(J.insert)if(J.ins_h=t(J,J.ins_h,J.window[V+v-1]),J.prev[V&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=V,V++,J.insert--,J.lookahead+J.insert<v)break}}while(J.lookahead<l&&J.strm.avail_in!==0)},Z6=(J,W)=>{let Q=J.pending_buf_size-5>J.w_size?J.w_size:J.pending_buf_size-5,j,V,q,G=0,P=J.strm.avail_in;do{if(j=65535,q=J.bi_valid+42>>3,J.strm.avail_out<q)break;if(q=J.strm.avail_out-q,V=J.strstart-J.block_start,j>V+J.strm.avail_in)j=V+J.strm.avail_in;if(j>q)j=q;if(j<Q&&(j===0&&W!==b||W===e||j!==V+J.strm.avail_in))break;if(G=W===b&&j===V+J.strm.avail_in?1:0,k0(J,0,0,G),J.pending_buf[J.pending-4]=j,J.pending_buf[J.pending-3]=j>>8,J.pending_buf[J.pending-2]=~j,J.pending_buf[J.pending-1]=~j>>8,p(J.strm),V){if(V>j)V=j;J.strm.output.set(J.window.subarray(J.block_start,J.block_start+V),J.strm.next_out),J.strm.next_out+=V,J.strm.avail_out-=V,J.strm.total_out+=V,J.block_start+=V,j-=V}if(j)p0(J.strm,J.strm.output,J.strm.next_out,j),J.strm.next_out+=j,J.strm.avail_out-=j,J.strm.total_out+=j}while(G===0);if(P-=J.strm.avail_in,P){if(P>=J.w_size)J.matches=2,J.window.set(J.strm.input.subarray(J.strm.next_in-J.w_size,J.strm.next_in),0),J.strstart=J.w_size,J.insert=J.strstart;else{if(J.window_size-J.strstart<=P){if(J.strstart-=J.w_size,J.window.set(J.window.subarray(J.w_size,J.w_size+J.strstart),0),J.matches<2)J.matches++;if(J.insert>J.strstart)J.insert=J.strstart}J.window.set(J.strm.input.subarray(J.strm.next_in-P,J.strm.next_in),J.strstart),J.strstart+=P,J.insert+=P>J.w_size-J.insert?J.w_size-J.insert:P}J.block_start=J.strstart}if(J.high_water<J.strstart)J.high_water=J.strstart;if(G)return $1;if(W!==e&&W!==b&&J.strm.avail_in===0&&J.strstart===J.block_start)return N1;if(q=J.window_size-J.strstart,J.strm.avail_in>q&&J.block_start>=J.w_size){if(J.block_start-=J.w_size,J.strstart-=J.w_size,J.window.set(J.window.subarray(J.w_size,J.w_size+J.strstart),0),J.matches<2)J.matches++;if(q+=J.w_size,J.insert>J.strstart)J.insert=J.strstart}if(q>J.strm.avail_in)q=J.strm.avail_in;if(q)p0(J.strm,J.window,J.strstart,q),J.strstart+=q,J.insert+=q>J.w_size-J.insert?J.w_size-J.insert:q;if(J.high_water<J.strstart)J.high_water=J.strstart;if(q=J.bi_valid+42>>3,q=J.pending_buf_size-q>65535?65535:J.pending_buf_size-q,Q=q>J.w_size?J.w_size:q,V=J.strstart-J.block_start,V>=Q||(V||W===b)&&W!==e&&J.strm.avail_in===0&&V<=q)j=V>q?q:V,G=W===b&&J.strm.avail_in===0&&j===V?1:0,k0(J,J.block_start,j,G),J.block_start+=j,p(J.strm);return G?q1:E},$0=(J,W)=>{let Q,j;for(;;){if(J.lookahead<l){if(H1(J),J.lookahead<l&&W===e)return E;if(J.lookahead===0)break}if(Q=0,J.lookahead>=v)J.ins_h=t(J,J.ins_h,J.window[J.strstart+v-1]),Q=J.prev[J.strstart&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=J.strstart;if(Q!==0&&J.strstart-Q<=J.w_size-l)J.match_length=z6(J,Q);if(J.match_length>=v)if(j=r(J,J.strstart-J.match_start,J.match_length-v),J.lookahead-=J.match_length,J.match_length<=J.max_lazy_match&&J.lookahead>=v){J.match_length--;do J.strstart++,J.ins_h=t(J,J.ins_h,J.window[J.strstart+v-1]),Q=J.prev[J.strstart&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=J.strstart;while(--J.match_length!==0);J.strstart++}else J.strstart+=J.match_length,J.match_length=0,J.ins_h=J.window[J.strstart],J.ins_h=t(J,J.ins_h,J.window[J.strstart+1]);else j=r(J,0,J.window[J.strstart]),J.lookahead--,J.strstart++;if(j){if(h(J,!1),J.strm.avail_out===0)return E}}if(J.insert=J.strstart<v-1?J.strstart:v-1,W===b){if(h(J,!0),J.strm.avail_out===0)return q1;return $1}if(J.sym_next){if(h(J,!1),J.strm.avail_out===0)return E}return N1},F1=(J,W)=>{let Q,j,V;for(;;){if(J.lookahead<l){if(H1(J),J.lookahead<l&&W===e)return E;if(J.lookahead===0)break}if(Q=0,J.lookahead>=v)J.ins_h=t(J,J.ins_h,J.window[J.strstart+v-1]),Q=J.prev[J.strstart&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=J.strstart;if(J.prev_length=J.match_length,J.prev_match=J.match_start,J.match_length=v-1,Q!==0&&J.prev_length<J.max_lazy_match&&J.strstart-Q<=J.w_size-l){if(J.match_length=z6(J,Q),J.match_length<=5&&(J.strategy===m8||J.match_length===v&&J.strstart-J.match_start>4096))J.match_length=v-1}if(J.prev_length>=v&&J.match_length<=J.prev_length){V=J.strstart+J.lookahead-v,j=r(J,J.strstart-1-J.prev_match,J.prev_length-v),J.lookahead-=J.prev_length-1,J.prev_length-=2;do if(++J.strstart<=V)J.ins_h=t(J,J.ins_h,J.window[J.strstart+v-1]),Q=J.prev[J.strstart&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=J.strstart;while(--J.prev_length!==0);if(J.match_available=0,J.match_length=v-1,J.strstart++,j){if(h(J,!1),J.strm.avail_out===0)return E}}else if(J.match_available){if(j=r(J,0,J.window[J.strstart-1]),j)h(J,!1);if(J.strstart++,J.lookahead--,J.strm.avail_out===0)return E}else J.match_available=1,J.strstart++,J.lookahead--}if(J.match_available)j=r(J,0,J.window[J.strstart-1]),J.match_available=0;if(J.insert=J.strstart<v-1?J.strstart:v-1,W===b){if(h(J,!0),J.strm.avail_out===0)return q1;return $1}if(J.sym_next){if(h(J,!1),J.strm.avail_out===0)return E}return N1},jJ=(J,W)=>{let Q,j,V,q,G=J.window;for(;;){if(J.lookahead<=a){if(H1(J),J.lookahead<=a&&W===e)return E;if(J.lookahead===0)break}if(J.match_length=0,J.lookahead>=v&&J.strstart>0){if(V=J.strstart-1,j=G[V],j===G[++V]&&j===G[++V]&&j===G[++V]){q=J.strstart+a;do;while(j===G[++V]&&j===G[++V]&&j===G[++V]&&j===G[++V]&&j===G[++V]&&j===G[++V]&&j===G[++V]&&j===G[++V]&&V<q);if(J.match_length=a-(q-V),J.match_length>J.lookahead)J.match_length=J.lookahead}}if(J.match_length>=v)Q=r(J,1,J.match_length-v),J.lookahead-=J.match_length,J.strstart+=J.match_length,J.match_length=0;else Q=r(J,0,J.window[J.strstart]),J.lookahead--,J.strstart++;if(Q){if(h(J,!1),J.strm.avail_out===0)return E}}if(J.insert=0,W===b){if(h(J,!0),J.strm.avail_out===0)return q1;return $1}if(J.sym_next){if(h(J,!1),J.strm.avail_out===0)return E}return N1},VJ=(J,W)=>{let Q;for(;;){if(J.lookahead===0){if(H1(J),J.lookahead===0){if(W===e)return E;break}}if(J.match_length=0,Q=r(J,0,J.window[J.strstart]),J.lookahead--,J.strstart++,Q){if(h(J,!1),J.strm.avail_out===0)return E}}if(J.insert=0,W===b){if(h(J,!0),J.strm.avail_out===0)return q1;return $1}if(J.sym_next){if(h(J,!1),J.strm.avail_out===0)return E}return N1};function f(J,W,Q,j,V){this.good_length=J,this.max_lazy=W,this.nice_length=Q,this.max_chain=j,this.func=V}var I1=[new f(0,0,0,0,Z6),new f(4,4,8,4,$0),new f(4,5,16,8,$0),new f(4,6,32,32,$0),new f(4,4,16,16,F1),new f(8,16,32,32,F1),new f(8,16,128,128,F1),new f(8,32,128,256,F1),new f(32,128,258,1024,F1),new f(32,258,258,4096,F1)],qJ=(J)=>{J.window_size=2*J.w_size,_(J.head),J.max_lazy_match=I1[J.level].max_lazy,J.good_match=I1[J.level].good_length,J.nice_match=I1[J.level].nice_length,J.max_chain_length=I1[J.level].max_chain,J.strstart=0,J.block_start=0,J.lookahead=0,J.insert=0,J.match_length=J.prev_length=v-1,J.match_available=0,J.ins_h=0};function GJ(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=P0,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(e8*2),this.dyn_dtree=new Uint16Array((2*a8+1)*2),this.bl_tree=new Uint16Array((2*r8+1)*2),_(this.dyn_ltree),_(this.dyn_dtree),_(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(t8+1),this.heap=new Uint16Array(2*x0+1),_(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*x0+1),_(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var h1=(J)=>{if(!J)return 1;let W=J.state;if(!W||W.strm!==J||W.status!==L1&&W.status!==f0&&W.status!==w0&&W.status!==S0&&W.status!==E0&&W.status!==y0&&W.status!==W1&&W.status!==v1)return 1;return 0},L6=(J)=>{if(h1(J))return j1(J,d);J.total_in=J.total_out=0,J.data_type=d8;let W=J.state;if(W.pending=0,W.pending_out=0,W.wrap<0)W.wrap=-W.wrap;return W.status=W.wrap===2?f0:W.wrap?L1:W1,J.adler=W.wrap===2?0:1,W.last_flush=-2,w8(W),S},H6=(J)=>{let W=L6(J);if(W===S)qJ(J.state);return W},PJ=(J,W)=>{if(h1(J)||J.state.wrap!==2)return d;return J.state.gzhead=W,S},O6=(J,W,Q,j,V,q)=>{if(!J)return d;let G=1;if(W===b8)W=6;if(j<0)G=0,j=-j;else if(j>15)G=2,j-=16;if(V<1||V>l8||Q!==P0||j<8||j>15||W<0||W>9||q<0||q>f8||j===8&&G!==1)return j1(J,d);if(j===8)j=9;let P=new GJ;return J.state=P,P.strm=J,P.status=L1,P.wrap=G,P.gzhead=null,P.w_bits=j,P.w_size=1<<P.w_bits,P.w_mask=P.w_size-1,P.hash_bits=V+7,P.hash_size=1<<P.hash_bits,P.hash_mask=P.hash_size-1,P.hash_shift=~~((P.hash_bits+v-1)/v),P.window=new Uint8Array(P.w_size*2),P.head=new Uint16Array(P.hash_size),P.prev=new Uint16Array(P.w_size),P.lit_bufsize=1<<V+6,P.pending_buf_size=P.lit_bufsize*4,P.pending_buf=new Uint8Array(P.pending_buf_size),P.sym_buf=P.lit_bufsize,P.sym_end=(P.lit_bufsize-1)*3,P.level=W,P.strategy=q,P.method=Q,H6(J)},XJ=(J,W)=>{return O6(J,W,P0,o8,i8,c8)},YJ=(J,W)=>{if(h1(J)||W>$7||W<0)return J?j1(J,d):d;let Q=J.state;if(!J.output||J.avail_in!==0&&!J.input||Q.status===v1&&W!==b)return j1(J,J.avail_out===0?N0:d);let j=Q.last_flush;if(Q.last_flush=W,Q.pending!==0){if(p(J),J.avail_out===0)return Q.last_flush=-1,S}else if(J.avail_in===0&&B7(W)<=B7(j)&&W!==b)return j1(J,N0);if(Q.status===v1&&J.avail_in!==0)return j1(J,N0);if(Q.status===L1&&Q.wrap===0)Q.status=W1;if(Q.status===L1){let V=P0+(Q.w_bits-8<<4)<<8,q=-1;if(Q.strategy>=t1||Q.level<2)q=0;else if(Q.level<6)q=1;else if(Q.level===6)q=2;else q=3;if(V|=q<<6,Q.strstart!==0)V|=s8;if(V+=31-V%31,C1(Q,V),Q.strstart!==0)C1(Q,J.adler>>>16),C1(Q,J.adler&65535);if(J.adler=1,Q.status=W1,p(J),Q.pending!==0)return Q.last_flush=-1,S}if(Q.status===f0)if(J.adler=0,A(Q,31),A(Q,139),A(Q,8),!Q.gzhead){if(A(Q,0),A(Q,0),A(Q,0),A(Q,0),A(Q,0),A(Q,Q.level===9?2:Q.strategy>=t1||Q.level<2?4:0),A(Q,JJ),Q.status=W1,p(J),Q.pending!==0)return Q.last_flush=-1,S}else{if(A(Q,(Q.gzhead.text?1:0)+(Q.gzhead.hcrc?2:0)+(!Q.gzhead.extra?0:4)+(!Q.gzhead.name?0:8)+(!Q.gzhead.comment?0:16)),A(Q,Q.gzhead.time&255),A(Q,Q.gzhead.time>>8&255),A(Q,Q.gzhead.time>>16&255),A(Q,Q.gzhead.time>>24&255),A(Q,Q.level===9?2:Q.strategy>=t1||Q.level<2?4:0),A(Q,Q.gzhead.os&255),Q.gzhead.extra&&Q.gzhead.extra.length)A(Q,Q.gzhead.extra.length&255),A(Q,Q.gzhead.extra.length>>8&255);if(Q.gzhead.hcrc)J.adler=w(J.adler,Q.pending_buf,Q.pending,0);Q.gzindex=0,Q.status=w0}if(Q.status===w0){if(Q.gzhead.extra){let V=Q.pending,q=(Q.gzhead.extra.length&65535)-Q.gzindex;while(Q.pending+q>Q.pending_buf_size){let P=Q.pending_buf_size-Q.pending;if(Q.pending_buf.set(Q.gzhead.extra.subarray(Q.gzindex,Q.gzindex+P),Q.pending),Q.pending=Q.pending_buf_size,Q.gzhead.hcrc&&Q.pending>V)J.adler=w(J.adler,Q.pending_buf,Q.pending-V,V);if(Q.gzindex+=P,p(J),Q.pending!==0)return Q.last_flush=-1,S;V=0,q-=P}let G=new Uint8Array(Q.gzhead.extra);if(Q.pending_buf.set(G.subarray(Q.gzindex,Q.gzindex+q),Q.pending),Q.pending+=q,Q.gzhead.hcrc&&Q.pending>V)J.adler=w(J.adler,Q.pending_buf,Q.pending-V,V);Q.gzindex=0}Q.status=S0}if(Q.status===S0){if(Q.gzhead.name){let V=Q.pending,q;do{if(Q.pending===Q.pending_buf_size){if(Q.gzhead.hcrc&&Q.pending>V)J.adler=w(J.adler,Q.pending_buf,Q.pending-V,V);if(p(J),Q.pending!==0)return Q.last_flush=-1,S;V=0}if(Q.gzindex<Q.gzhead.name.length)q=Q.gzhead.name.charCodeAt(Q.gzindex++)&255;else q=0;A(Q,q)}while(q!==0);if(Q.gzhead.hcrc&&Q.pending>V)J.adler=w(J.adler,Q.pending_buf,Q.pending-V,V);Q.gzindex=0}Q.status=E0}if(Q.status===E0){if(Q.gzhead.comment){let V=Q.pending,q;do{if(Q.pending===Q.pending_buf_size){if(Q.gzhead.hcrc&&Q.pending>V)J.adler=w(J.adler,Q.pending_buf,Q.pending-V,V);if(p(J),Q.pending!==0)return Q.last_flush=-1,S;V=0}if(Q.gzindex<Q.gzhead.comment.length)q=Q.gzhead.comment.charCodeAt(Q.gzindex++)&255;else q=0;A(Q,q)}while(q!==0);if(Q.gzhead.hcrc&&Q.pending>V)J.adler=w(J.adler,Q.pending_buf,Q.pending-V,V)}Q.status=y0}if(Q.status===y0){if(Q.gzhead.hcrc){if(Q.pending+2>Q.pending_buf_size){if(p(J),Q.pending!==0)return Q.last_flush=-1,S}A(Q,J.adler&255),A(Q,J.adler>>8&255),J.adler=0}if(Q.status=W1,p(J),Q.pending!==0)return Q.last_flush=-1,S}if(J.avail_in!==0||Q.lookahead!==0||W!==e&&Q.status!==v1){let V=Q.level===0?Z6(Q,W):Q.strategy===t1?VJ(Q,W):Q.strategy===u8?jJ(Q,W):I1[Q.level].func(Q,W);if(V===q1||V===$1)Q.status=v1;if(V===E||V===q1){if(J.avail_out===0)Q.last_flush=-1;return S}if(V===N1){if(W===y8)E8(Q);else if(W!==$7){if(k0(Q,0,0,!1),W===p8){if(_(Q.head),Q.lookahead===0)Q.strstart=0,Q.block_start=0,Q.insert=0}}if(p(J),J.avail_out===0)return Q.last_flush=-1,S}}if(W!==b)return S;if(Q.wrap<=0)return M7;if(Q.wrap===2)A(Q,J.adler&255),A(Q,J.adler>>8&255),A(Q,J.adler>>16&255),A(Q,J.adler>>24&255),A(Q,J.total_in&255),A(Q,J.total_in>>8&255),A(Q,J.total_in>>16&255),A(Q,J.total_in>>24&255);else C1(Q,J.adler>>>16),C1(Q,J.adler&65535);if(p(J),Q.wrap>0)Q.wrap=-Q.wrap;return Q.pending!==0?S:M7},UJ=(J)=>{if(h1(J))return d;let W=J.state.status;return J.state=null,W===W1?j1(J,h8):S},KJ=(J,W)=>{let Q=W.length;if(h1(J))return d;let j=J.state,V=j.wrap;if(V===2||V===1&&j.status!==L1||j.lookahead)return d;if(V===1)J.adler=w1(J.adler,W,Q,0);if(j.wrap=0,Q>=j.w_size){if(V===0)_(j.head),j.strstart=0,j.block_start=0,j.insert=0;let U=new Uint8Array(j.w_size);U.set(W.subarray(Q-j.w_size,Q),0),W=U,Q=j.w_size}let{avail_in:q,next_in:G,input:P}=J;J.avail_in=Q,J.next_in=0,J.input=W,H1(j);while(j.lookahead>=v){let U=j.strstart,X=j.lookahead-(v-1);do j.ins_h=t(j,j.ins_h,j.window[U+v-1]),j.prev[U&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=U,U++;while(--X);j.strstart=U,j.lookahead=v-1,H1(j)}return j.strstart+=j.lookahead,j.block_start=j.strstart,j.insert=j.lookahead,j.lookahead=0,j.match_length=j.prev_length=v-1,j.match_available=0,J.next_in=G,J.input=P,J.avail_in=q,j.wrap=V,S},FJ=XJ,zJ=O6,ZJ=H6,LJ=L6,HJ=PJ,OJ=YJ,NJ=UJ,$J=KJ,MJ="pako deflate (from Nodeca project)",D1={deflateInit:FJ,deflateInit2:zJ,deflateReset:ZJ,deflateResetKeep:LJ,deflateSetHeader:HJ,deflate:OJ,deflateEnd:NJ,deflateSetDictionary:$J,deflateInfo:MJ},BJ=(J,W)=>{return Object.prototype.hasOwnProperty.call(J,W)},CJ=function(J){let W=Array.prototype.slice.call(arguments,1);while(W.length){let Q=W.shift();if(!Q)continue;if(typeof Q!=="object")throw new TypeError(Q+"must be non-object");for(let j in Q)if(BJ(Q,j))J[j]=Q[j]}return J},vJ=(J)=>{let W=0;for(let j=0,V=J.length;j<V;j++)W+=J[j].length;let Q=new Uint8Array(W);for(let j=0,V=0,q=J.length;j<q;j++){let G=J[j];Q.set(G,V),V+=G.length}return Q},X0={assign:CJ,flattenChunks:vJ},N6=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(J){N6=!1}var S1=new Uint8Array(256);for(let J=0;J<256;J++)S1[J]=J>=252?6:J>=248?5:J>=240?4:J>=224?3:J>=192?2:1;S1[254]=S1[254]=1;var IJ=(J)=>{if(typeof TextEncoder==="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(J);let W,Q,j,V,q,G=J.length,P=0;for(V=0;V<G;V++){if(Q=J.charCodeAt(V),(Q&64512)===55296&&V+1<G){if(j=J.charCodeAt(V+1),(j&64512)===56320)Q=65536+(Q-55296<<10)+(j-56320),V++}P+=Q<128?1:Q<2048?2:Q<65536?3:4}W=new Uint8Array(P);for(q=0,V=0;q<P;V++){if(Q=J.charCodeAt(V),(Q&64512)===55296&&V+1<G){if(j=J.charCodeAt(V+1),(j&64512)===56320)Q=65536+(Q-55296<<10)+(j-56320),V++}if(Q<128)W[q++]=Q;else if(Q<2048)W[q++]=192|Q>>>6,W[q++]=128|Q&63;else if(Q<65536)W[q++]=224|Q>>>12,W[q++]=128|Q>>>6&63,W[q++]=128|Q&63;else W[q++]=240|Q>>>18,W[q++]=128|Q>>>12&63,W[q++]=128|Q>>>6&63,W[q++]=128|Q&63}return W},RJ=(J,W)=>{if(W<65534){if(J.subarray&&N6)return String.fromCharCode.apply(null,J.length===W?J:J.subarray(0,W))}let Q="";for(let j=0;j<W;j++)Q+=String.fromCharCode(J[j]);return Q},DJ=(J,W)=>{let Q=W||J.length;if(typeof TextDecoder==="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(J.subarray(0,W));let j,V,q=new Array(Q*2);for(V=0,j=0;j<Q;){let G=J[j++];if(G<128){q[V++]=G;continue}let P=S1[G];if(P>4){q[V++]=65533,j+=P-1;continue}G&=P===2?31:P===3?15:7;while(P>1&&j<Q)G=G<<6|J[j++]&63,P--;if(P>1){q[V++]=65533;continue}if(G<65536)q[V++]=G;else G-=65536,q[V++]=55296|G>>10&1023,q[V++]=56320|G&1023}return RJ(q,V)},AJ=(J,W)=>{if(W=W||J.length,W>J.length)W=J.length;let Q=W-1;while(Q>=0&&(J[Q]&192)===128)Q--;if(Q<0)return W;if(Q===0)return W;return Q+S1[J[Q]]>W?Q:W},E1={string2buf:IJ,buf2string:DJ,utf8border:AJ};function gJ(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var $6=gJ,M6=Object.prototype.toString,{Z_NO_FLUSH:TJ,Z_SYNC_FLUSH:kJ,Z_FULL_FLUSH:xJ,Z_FINISH:wJ,Z_OK:q0,Z_STREAM_END:SJ,Z_DEFAULT_COMPRESSION:EJ,Z_DEFAULT_STRATEGY:yJ,Z_DEFLATED:pJ}=P1;function b1(J){this.options=X0.assign({level:EJ,method:pJ,chunkSize:16384,windowBits:15,memLevel:8,strategy:yJ},J||{});let W=this.options;if(W.raw&&W.windowBits>0)W.windowBits=-W.windowBits;else if(W.gzip&&W.windowBits>0&&W.windowBits<16)W.windowBits+=16;this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $6,this.strm.avail_out=0;let Q=D1.deflateInit2(this.strm,W.level,W.method,W.windowBits,W.memLevel,W.strategy);if(Q!==q0)throw new Error(V1[Q]);if(W.header)D1.deflateSetHeader(this.strm,W.header);if(W.dictionary){let j;if(typeof W.dictionary==="string")j=E1.string2buf(W.dictionary);else if(M6.call(W.dictionary)==="[object ArrayBuffer]")j=new Uint8Array(W.dictionary);else j=W.dictionary;if(Q=D1.deflateSetDictionary(this.strm,j),Q!==q0)throw new Error(V1[Q]);this._dict_set=!0}}b1.prototype.push=function(J,W){let Q=this.strm,j=this.options.chunkSize,V,q;if(this.ended)return!1;if(W===~~W)q=W;else q=W===!0?wJ:TJ;if(typeof J==="string")Q.input=E1.string2buf(J);else if(M6.call(J)==="[object ArrayBuffer]")Q.input=new Uint8Array(J);else Q.input=J;Q.next_in=0,Q.avail_in=Q.input.length;for(;;){if(Q.avail_out===0)Q.output=new Uint8Array(j),Q.next_out=0,Q.avail_out=j;if((q===kJ||q===xJ)&&Q.avail_out<=6){this.onData(Q.output.subarray(0,Q.next_out)),Q.avail_out=0;continue}if(V=D1.deflate(Q,q),V===SJ){if(Q.next_out>0)this.onData(Q.output.subarray(0,Q.next_out));return V=D1.deflateEnd(this.strm),this.onEnd(V),this.ended=!0,V===q0}if(Q.avail_out===0){this.onData(Q.output);continue}if(q>0&&Q.next_out>0){this.onData(Q.output.subarray(0,Q.next_out)),Q.avail_out=0;continue}if(Q.avail_in===0)break}return!0};b1.prototype.onData=function(J){this.chunks.push(J)};b1.prototype.onEnd=function(J){if(J===q0)this.result=X0.flattenChunks(this.chunks);this.chunks=[],this.err=J,this.msg=this.strm.msg};function c0(J,W){let Q=new b1(W);if(Q.push(J,!0),Q.err)throw Q.msg||V1[Q.err];return Q.result}function hJ(J,W){return W=W||{},W.raw=!0,c0(J,W)}function bJ(J,W){return W=W||{},W.gzip=!0,c0(J,W)}var mJ=b1,uJ=c0,fJ=hJ,cJ=bJ,dJ=P1,lJ={Deflate:mJ,deflate:uJ,deflateRaw:fJ,gzip:cJ,constants:dJ},s1=16209,oJ=16191,iJ=function J(W,Q){let j,V,q,G,P,U,X,Y,z,F,K,Z,$,H,N,R,B,L,D,x,O,g,I,M,C=W.state;j=W.next_in,I=W.input,V=j+(W.avail_in-5),q=W.next_out,M=W.output,G=q-(Q-W.avail_out),P=q+(W.avail_out-257),U=C.dmax,X=C.wsize,Y=C.whave,z=C.wnext,F=C.window,K=C.hold,Z=C.bits,$=C.lencode,H=C.distcode,N=(1<<C.lenbits)-1,R=(1<<C.distbits)-1;J:do{if(Z<15)K+=I[j++]<<Z,Z+=8,K+=I[j++]<<Z,Z+=8;B=$[K&N];Q:for(;;){if(L=B>>>24,K>>>=L,Z-=L,L=B>>>16&255,L===0)M[q++]=B&65535;else if(L&16){if(D=B&65535,L&=15,L){if(Z<L)K+=I[j++]<<Z,Z+=8;D+=K&(1<<L)-1,K>>>=L,Z-=L}if(Z<15)K+=I[j++]<<Z,Z+=8,K+=I[j++]<<Z,Z+=8;B=H[K&R];W:for(;;){if(L=B>>>24,K>>>=L,Z-=L,L=B>>>16&255,L&16){if(x=B&65535,L&=15,Z<L){if(K+=I[j++]<<Z,Z+=8,Z<L)K+=I[j++]<<Z,Z+=8}if(x+=K&(1<<L)-1,x>U){W.msg="invalid distance too far back",C.mode=s1;break J}if(K>>>=L,Z-=L,L=q-G,x>L){if(L=x-L,L>Y){if(C.sane){W.msg="invalid distance too far back",C.mode=s1;break J}}if(O=0,g=F,z===0){if(O+=X-L,L<D){D-=L;do M[q++]=F[O++];while(--L);O=q-x,g=M}}else if(z<L){if(O+=X+z-L,L-=z,L<D){D-=L;do M[q++]=F[O++];while(--L);if(O=0,z<D){L=z,D-=L;do M[q++]=F[O++];while(--L);O=q-x,g=M}}}else if(O+=z-L,L<D){D-=L;do M[q++]=F[O++];while(--L);O=q-x,g=M}while(D>2)M[q++]=g[O++],M[q++]=g[O++],M[q++]=g[O++],D-=3;if(D){if(M[q++]=g[O++],D>1)M[q++]=g[O++]}}else{O=q-x;do M[q++]=M[O++],M[q++]=M[O++],M[q++]=M[O++],D-=3;while(D>2);if(D){if(M[q++]=M[O++],D>1)M[q++]=M[O++]}}}else if((L&64)===0){B=H[(B&65535)+(K&(1<<L)-1)];continue W}else{W.msg="invalid distance code",C.mode=s1;break J}break}}else if((L&64)===0){B=$[(B&65535)+(K&(1<<L)-1)];continue Q}else if(L&32){C.mode=oJ;break J}else{W.msg="invalid literal/length code",C.mode=s1;break J}break}}while(j<V&&q<P);D=Z>>3,j-=D,Z-=D<<3,K&=(1<<Z)-1,W.next_in=j,W.next_out=q,W.avail_in=j<V?5+(V-j):5-(j-V),W.avail_out=q<P?257+(P-q):257-(q-P),C.hold=K,C.bits=Z;return},z1=15,C7=852,v7=592,I7=0,M0=1,R7=2,nJ=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),_J=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),aJ=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),rJ=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),eJ=(J,W,Q,j,V,q,G,P)=>{let U=P.bits,X=0,Y=0,z=0,F=0,K=0,Z=0,$=0,H=0,N=0,R=0,B,L,D,x,O,g=null,I,M=new Uint16Array(z1+1),C=new Uint16Array(z1+1),s=null,l0,u1,f1;for(X=0;X<=z1;X++)M[X]=0;for(Y=0;Y<j;Y++)M[W[Q+Y]]++;K=U;for(F=z1;F>=1;F--)if(M[F]!==0)break;if(K>F)K=F;if(F===0)return V[q++]=20971520,V[q++]=20971520,P.bits=1,0;for(z=1;z<F;z++)if(M[z]!==0)break;if(K<z)K=z;H=1;for(X=1;X<=z1;X++)if(H<<=1,H-=M[X],H<0)return-1;if(H>0&&(J===I7||F!==1))return-1;C[1]=0;for(X=1;X<z1;X++)C[X+1]=C[X]+M[X];for(Y=0;Y<j;Y++)if(W[Q+Y]!==0)G[C[W[Q+Y]]++]=Y;if(J===I7)g=s=G,I=20;else if(J===M0)g=nJ,s=_J,I=257;else g=aJ,s=rJ,I=0;if(R=0,Y=0,X=z,O=q,Z=K,$=0,D=-1,N=1<<K,x=N-1,J===M0&&N>C7||J===R7&&N>v7)return 1;for(;;){if(l0=X-$,G[Y]+1<I)u1=0,f1=G[Y];else if(G[Y]>=I)u1=s[G[Y]-I],f1=g[G[Y]-I];else u1=96,f1=0;B=1<<X-$,L=1<<Z,z=L;do L-=B,V[O+(R>>$)+L]=l0<<24|u1<<16|f1|0;while(L!==0);B=1<<X-1;while(R&B)B>>=1;if(B!==0)R&=B-1,R+=B;else R=0;if(Y++,--M[X]===0){if(X===F)break;X=W[Q+G[Y]]}if(X>K&&(R&x)!==D){if($===0)$=K;O+=z,Z=X-$,H=1<<Z;while(Z+$<F){if(H-=M[Z+$],H<=0)break;Z++,H<<=1}if(N+=1<<Z,J===M0&&N>C7||J===R7&&N>v7)return 1;D=R&x,V[D]=K<<24|Z<<16|O-q|0}}if(R!==0)V[O+R]=X-$<<24|4194304|0;return P.bits=K,0},A1=eJ,tJ=0,B6=1,C6=2,{Z_FINISH:D7,Z_BLOCK:sJ,Z_TREES:J0,Z_OK:G1,Z_STREAM_END:JQ,Z_NEED_DICT:QQ,Z_STREAM_ERROR:m,Z_DATA_ERROR:v6,Z_MEM_ERROR:I6,Z_BUF_ERROR:WQ,Z_DEFLATED:A7}=P1,Y0=16180,g7=16181,T7=16182,k7=16183,x7=16184,w7=16185,S7=16186,E7=16187,y7=16188,p7=16189,G0=16190,o=16191,B0=16192,h7=16193,C0=16194,b7=16195,m7=16196,u7=16197,f7=16198,Q0=16199,W0=16200,c7=16201,d7=16202,l7=16203,o7=16204,i7=16205,v0=16206,n7=16207,_7=16208,T=16209,R6=16210,D6=16211,jQ=852,VQ=592,qQ=15,GQ=qQ,a7=(J)=>{return(J>>>24&255)+(J>>>8&65280)+((J&65280)<<8)+((J&255)<<24)};function PQ(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var X1=(J)=>{if(!J)return 1;let W=J.state;if(!W||W.strm!==J||W.mode<Y0||W.mode>D6)return 1;return 0},A6=(J)=>{if(X1(J))return m;let W=J.state;if(J.total_in=J.total_out=W.total=0,J.msg="",W.wrap)J.adler=W.wrap&1;return W.mode=Y0,W.last=0,W.havedict=0,W.flags=-1,W.dmax=32768,W.head=null,W.hold=0,W.bits=0,W.lencode=W.lendyn=new Int32Array(jQ),W.distcode=W.distdyn=new Int32Array(VQ),W.sane=1,W.back=-1,G1},g6=(J)=>{if(X1(J))return m;let W=J.state;return W.wsize=0,W.whave=0,W.wnext=0,A6(J)},T6=(J,W)=>{let Q;if(X1(J))return m;let j=J.state;if(W<0)Q=0,W=-W;else if(Q=(W>>4)+5,W<48)W&=15;if(W&&(W<8||W>15))return m;if(j.window!==null&&j.wbits!==W)j.window=null;return j.wrap=Q,j.wbits=W,g6(J)},k6=(J,W)=>{if(!J)return m;let Q=new PQ;J.state=Q,Q.strm=J,Q.window=null,Q.mode=Y0;let j=T6(J,W);if(j!==G1)J.state=null;return j},XQ=(J)=>{return k6(J,GQ)},r7=!0,I0,R0,YQ=(J)=>{if(r7){I0=new Int32Array(512),R0=new Int32Array(32);let W=0;while(W<144)J.lens[W++]=8;while(W<256)J.lens[W++]=9;while(W<280)J.lens[W++]=7;while(W<288)J.lens[W++]=8;A1(B6,J.lens,0,288,I0,0,J.work,{bits:9}),W=0;while(W<32)J.lens[W++]=5;A1(C6,J.lens,0,32,R0,0,J.work,{bits:5}),r7=!1}J.lencode=I0,J.lenbits=9,J.distcode=R0,J.distbits=5},x6=(J,W,Q,j)=>{let V,q=J.state;if(q.window===null)q.wsize=1<<q.wbits,q.wnext=0,q.whave=0,q.window=new Uint8Array(q.wsize);if(j>=q.wsize)q.window.set(W.subarray(Q-q.wsize,Q),0),q.wnext=0,q.whave=q.wsize;else{if(V=q.wsize-q.wnext,V>j)V=j;if(q.window.set(W.subarray(Q-j,Q-j+V),q.wnext),j-=V,j)q.window.set(W.subarray(Q-j,Q),0),q.wnext=j,q.whave=q.wsize;else{if(q.wnext+=V,q.wnext===q.wsize)q.wnext=0;if(q.whave<q.wsize)q.whave+=V}}return 0},UQ=(J,W)=>{let Q,j,V,q,G,P,U,X,Y,z,F,K,Z,$,H=0,N,R,B,L,D,x,O,g,I=new Uint8Array(4),M,C,s=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(X1(J)||!J.output||!J.input&&J.avail_in!==0)return m;if(Q=J.state,Q.mode===o)Q.mode=B0;G=J.next_out,V=J.output,U=J.avail_out,q=J.next_in,j=J.input,P=J.avail_in,X=Q.hold,Y=Q.bits,z=P,F=U,g=G1;J:for(;;)switch(Q.mode){case Y0:if(Q.wrap===0){Q.mode=B0;break}while(Y<16){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}if(Q.wrap&2&&X===35615){if(Q.wbits===0)Q.wbits=15;Q.check=0,I[0]=X&255,I[1]=X>>>8&255,Q.check=w(Q.check,I,2,0),X=0,Y=0,Q.mode=g7;break}if(Q.head)Q.head.done=!1;if(!(Q.wrap&1)||(((X&255)<<8)+(X>>8))%31){J.msg="incorrect header check",Q.mode=T;break}if((X&15)!==A7){J.msg="unknown compression method",Q.mode=T;break}if(X>>>=4,Y-=4,O=(X&15)+8,Q.wbits===0)Q.wbits=O;if(O>15||O>Q.wbits){J.msg="invalid window size",Q.mode=T;break}Q.dmax=1<<Q.wbits,Q.flags=0,J.adler=Q.check=1,Q.mode=X&512?p7:o,X=0,Y=0;break;case g7:while(Y<16){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}if(Q.flags=X,(Q.flags&255)!==A7){J.msg="unknown compression method",Q.mode=T;break}if(Q.flags&57344){J.msg="unknown header flags set",Q.mode=T;break}if(Q.head)Q.head.text=X>>8&1;if(Q.flags&512&&Q.wrap&4)I[0]=X&255,I[1]=X>>>8&255,Q.check=w(Q.check,I,2,0);X=0,Y=0,Q.mode=T7;case T7:while(Y<32){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}if(Q.head)Q.head.time=X;if(Q.flags&512&&Q.wrap&4)I[0]=X&255,I[1]=X>>>8&255,I[2]=X>>>16&255,I[3]=X>>>24&255,Q.check=w(Q.check,I,4,0);X=0,Y=0,Q.mode=k7;case k7:while(Y<16){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}if(Q.head)Q.head.xflags=X&255,Q.head.os=X>>8;if(Q.flags&512&&Q.wrap&4)I[0]=X&255,I[1]=X>>>8&255,Q.check=w(Q.check,I,2,0);X=0,Y=0,Q.mode=x7;case x7:if(Q.flags&1024){while(Y<16){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}if(Q.length=X,Q.head)Q.head.extra_len=X;if(Q.flags&512&&Q.wrap&4)I[0]=X&255,I[1]=X>>>8&255,Q.check=w(Q.check,I,2,0);X=0,Y=0}else if(Q.head)Q.head.extra=null;Q.mode=w7;case w7:if(Q.flags&1024){if(K=Q.length,K>P)K=P;if(K){if(Q.head){if(O=Q.head.extra_len-Q.length,!Q.head.extra)Q.head.extra=new Uint8Array(Q.head.extra_len);Q.head.extra.set(j.subarray(q,q+K),O)}if(Q.flags&512&&Q.wrap&4)Q.check=w(Q.check,j,K,q);P-=K,q+=K,Q.length-=K}if(Q.length)break J}Q.length=0,Q.mode=S7;case S7:if(Q.flags&2048){if(P===0)break J;K=0;do if(O=j[q+K++],Q.head&&O&&Q.length<65536)Q.head.name+=String.fromCharCode(O);while(O&&K<P);if(Q.flags&512&&Q.wrap&4)Q.check=w(Q.check,j,K,q);if(P-=K,q+=K,O)break J}else if(Q.head)Q.head.name=null;Q.length=0,Q.mode=E7;case E7:if(Q.flags&4096){if(P===0)break J;K=0;do if(O=j[q+K++],Q.head&&O&&Q.length<65536)Q.head.comment+=String.fromCharCode(O);while(O&&K<P);if(Q.flags&512&&Q.wrap&4)Q.check=w(Q.check,j,K,q);if(P-=K,q+=K,O)break J}else if(Q.head)Q.head.comment=null;Q.mode=y7;case y7:if(Q.flags&512){while(Y<16){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}if(Q.wrap&4&&X!==(Q.check&65535)){J.msg="header crc mismatch",Q.mode=T;break}X=0,Y=0}if(Q.head)Q.head.hcrc=Q.flags>>9&1,Q.head.done=!0;J.adler=Q.check=0,Q.mode=o;break;case p7:while(Y<32){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}J.adler=Q.check=a7(X),X=0,Y=0,Q.mode=G0;case G0:if(Q.havedict===0)return J.next_out=G,J.avail_out=U,J.next_in=q,J.avail_in=P,Q.hold=X,Q.bits=Y,QQ;J.adler=Q.check=1,Q.mode=o;case o:if(W===sJ||W===J0)break J;case B0:if(Q.last){X>>>=Y&7,Y-=Y&7,Q.mode=v0;break}while(Y<3){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}switch(Q.last=X&1,X>>>=1,Y-=1,X&3){case 0:Q.mode=h7;break;case 1:if(YQ(Q),Q.mode=Q0,W===J0){X>>>=2,Y-=2;break J}break;case 2:Q.mode=m7;break;case 3:J.msg="invalid block type",Q.mode=T}X>>>=2,Y-=2;break;case h7:X>>>=Y&7,Y-=Y&7;while(Y<32){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}if((X&65535)!==(X>>>16^65535)){J.msg="invalid stored block lengths",Q.mode=T;break}if(Q.length=X&65535,X=0,Y=0,Q.mode=C0,W===J0)break J;case C0:Q.mode=b7;case b7:if(K=Q.length,K){if(K>P)K=P;if(K>U)K=U;if(K===0)break J;V.set(j.subarray(q,q+K),G),P-=K,q+=K,U-=K,G+=K,Q.length-=K;break}Q.mode=o;break;case m7:while(Y<14){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}if(Q.nlen=(X&31)+257,X>>>=5,Y-=5,Q.ndist=(X&31)+1,X>>>=5,Y-=5,Q.ncode=(X&15)+4,X>>>=4,Y-=4,Q.nlen>286||Q.ndist>30){J.msg="too many length or distance symbols",Q.mode=T;break}Q.have=0,Q.mode=u7;case u7:while(Q.have<Q.ncode){while(Y<3){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}Q.lens[s[Q.have++]]=X&7,X>>>=3,Y-=3}while(Q.have<19)Q.lens[s[Q.have++]]=0;if(Q.lencode=Q.lendyn,Q.lenbits=7,M={bits:Q.lenbits},g=A1(tJ,Q.lens,0,19,Q.lencode,0,Q.work,M),Q.lenbits=M.bits,g){J.msg="invalid code lengths set",Q.mode=T;break}Q.have=0,Q.mode=f7;case f7:while(Q.have<Q.nlen+Q.ndist){for(;;){if(H=Q.lencode[X&(1<<Q.lenbits)-1],N=H>>>24,R=H>>>16&255,B=H&65535,N<=Y)break;if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}if(B<16)X>>>=N,Y-=N,Q.lens[Q.have++]=B;else{if(B===16){C=N+2;while(Y<C){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}if(X>>>=N,Y-=N,Q.have===0){J.msg="invalid bit length repeat",Q.mode=T;break}O=Q.lens[Q.have-1],K=3+(X&3),X>>>=2,Y-=2}else if(B===17){C=N+3;while(Y<C){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}X>>>=N,Y-=N,O=0,K=3+(X&7),X>>>=3,Y-=3}else{C=N+7;while(Y<C){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}X>>>=N,Y-=N,O=0,K=11+(X&127),X>>>=7,Y-=7}if(Q.have+K>Q.nlen+Q.ndist){J.msg="invalid bit length repeat",Q.mode=T;break}while(K--)Q.lens[Q.have++]=O}}if(Q.mode===T)break;if(Q.lens[256]===0){J.msg="invalid code -- missing end-of-block",Q.mode=T;break}if(Q.lenbits=9,M={bits:Q.lenbits},g=A1(B6,Q.lens,0,Q.nlen,Q.lencode,0,Q.work,M),Q.lenbits=M.bits,g){J.msg="invalid literal/lengths set",Q.mode=T;break}if(Q.distbits=6,Q.distcode=Q.distdyn,M={bits:Q.distbits},g=A1(C6,Q.lens,Q.nlen,Q.ndist,Q.distcode,0,Q.work,M),Q.distbits=M.bits,g){J.msg="invalid distances set",Q.mode=T;break}if(Q.mode=Q0,W===J0)break J;case Q0:Q.mode=W0;case W0:if(P>=6&&U>=258){if(J.next_out=G,J.avail_out=U,J.next_in=q,J.avail_in=P,Q.hold=X,Q.bits=Y,iJ(J,F),G=J.next_out,V=J.output,U=J.avail_out,q=J.next_in,j=J.input,P=J.avail_in,X=Q.hold,Y=Q.bits,Q.mode===o)Q.back=-1;break}Q.back=0;for(;;){if(H=Q.lencode[X&(1<<Q.lenbits)-1],N=H>>>24,R=H>>>16&255,B=H&65535,N<=Y)break;if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}if(R&&(R&240)===0){L=N,D=R,x=B;for(;;){if(H=Q.lencode[x+((X&(1<<L+D)-1)>>L)],N=H>>>24,R=H>>>16&255,B=H&65535,L+N<=Y)break;if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}X>>>=L,Y-=L,Q.back+=L}if(X>>>=N,Y-=N,Q.back+=N,Q.length=B,R===0){Q.mode=i7;break}if(R&32){Q.back=-1,Q.mode=o;break}if(R&64){J.msg="invalid literal/length code",Q.mode=T;break}Q.extra=R&15,Q.mode=c7;case c7:if(Q.extra){C=Q.extra;while(Y<C){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}Q.length+=X&(1<<Q.extra)-1,X>>>=Q.extra,Y-=Q.extra,Q.back+=Q.extra}Q.was=Q.length,Q.mode=d7;case d7:for(;;){if(H=Q.distcode[X&(1<<Q.distbits)-1],N=H>>>24,R=H>>>16&255,B=H&65535,N<=Y)break;if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}if((R&240)===0){L=N,D=R,x=B;for(;;){if(H=Q.distcode[x+((X&(1<<L+D)-1)>>L)],N=H>>>24,R=H>>>16&255,B=H&65535,L+N<=Y)break;if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}X>>>=L,Y-=L,Q.back+=L}if(X>>>=N,Y-=N,Q.back+=N,R&64){J.msg="invalid distance code",Q.mode=T;break}Q.offset=B,Q.extra=R&15,Q.mode=l7;case l7:if(Q.extra){C=Q.extra;while(Y<C){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}Q.offset+=X&(1<<Q.extra)-1,X>>>=Q.extra,Y-=Q.extra,Q.back+=Q.extra}if(Q.offset>Q.dmax){J.msg="invalid distance too far back",Q.mode=T;break}Q.mode=o7;case o7:if(U===0)break J;if(K=F-U,Q.offset>K){if(K=Q.offset-K,K>Q.whave){if(Q.sane){J.msg="invalid distance too far back",Q.mode=T;break}}if(K>Q.wnext)K-=Q.wnext,Z=Q.wsize-K;else Z=Q.wnext-K;if(K>Q.length)K=Q.length;$=Q.window}else $=V,Z=G-Q.offset,K=Q.length;if(K>U)K=U;U-=K,Q.length-=K;do V[G++]=$[Z++];while(--K);if(Q.length===0)Q.mode=W0;break;case i7:if(U===0)break J;V[G++]=Q.length,U--,Q.mode=W0;break;case v0:if(Q.wrap){while(Y<32){if(P===0)break J;P--,X|=j[q++]<<Y,Y+=8}if(F-=U,J.total_out+=F,Q.total+=F,Q.wrap&4&&F)J.adler=Q.check=Q.flags?w(Q.check,V,F,G-F):w1(Q.check,V,F,G-F);if(F=U,Q.wrap&4&&(Q.flags?X:a7(X))!==Q.check){J.msg="incorrect data check",Q.mode=T;break}X=0,Y=0}Q.mode=n7;case n7:if(Q.wrap&&Q.flags){while(Y<32){if(P===0)break J;P--,X+=j[q++]<<Y,Y+=8}if(Q.wrap&4&&X!==(Q.total&4294967295)){J.msg="incorrect length check",Q.mode=T;break}X=0,Y=0}Q.mode=_7;case _7:g=JQ;break J;case T:g=v6;break J;case R6:return I6;case D6:default:return m}if(J.next_out=G,J.avail_out=U,J.next_in=q,J.avail_in=P,Q.hold=X,Q.bits=Y,Q.wsize||F!==J.avail_out&&Q.mode<T&&(Q.mode<v0||W!==D7)){if(x6(J,J.output,J.next_out,F-J.avail_out));}if(z-=J.avail_in,F-=J.avail_out,J.total_in+=z,J.total_out+=F,Q.total+=F,Q.wrap&4&&F)J.adler=Q.check=Q.flags?w(Q.check,V,F,J.next_out-F):w1(Q.check,V,F,J.next_out-F);if(J.data_type=Q.bits+(Q.last?64:0)+(Q.mode===o?128:0)+(Q.mode===Q0||Q.mode===C0?256:0),(z===0&&F===0||W===D7)&&g===G1)g=WQ;return g},KQ=(J)=>{if(X1(J))return m;let W=J.state;if(W.window)W.window=null;return J.state=null,G1},FQ=(J,W)=>{if(X1(J))return m;let Q=J.state;if((Q.wrap&2)===0)return m;return Q.head=W,W.done=!1,G1},zQ=(J,W)=>{let Q=W.length,j,V,q;if(X1(J))return m;if(j=J.state,j.wrap!==0&&j.mode!==G0)return m;if(j.mode===G0){if(V=1,V=w1(V,W,Q,0),V!==j.check)return v6}if(q=x6(J,W,Q,Q),q)return j.mode=R6,I6;return j.havedict=1,G1},ZQ=g6,LQ=T6,HQ=A6,OQ=XQ,NQ=k6,$Q=UQ,MQ=KQ,BQ=FQ,CQ=zQ,vQ="pako inflate (from Nodeca project)",n={inflateReset:ZQ,inflateReset2:LQ,inflateResetKeep:HQ,inflateInit:OQ,inflateInit2:NQ,inflate:$Q,inflateEnd:MQ,inflateGetHeader:BQ,inflateSetDictionary:CQ,inflateInfo:vQ};function IQ(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var RQ=IQ,w6=Object.prototype.toString,{Z_NO_FLUSH:DQ,Z_FINISH:AQ,Z_OK:y1,Z_STREAM_END:D0,Z_NEED_DICT:A0,Z_STREAM_ERROR:gQ,Z_DATA_ERROR:e7,Z_MEM_ERROR:TQ}=P1;function m1(J){this.options=X0.assign({chunkSize:65536,windowBits:15,to:""},J||{});let W=this.options;if(W.raw&&W.windowBits>=0&&W.windowBits<16){if(W.windowBits=-W.windowBits,W.windowBits===0)W.windowBits=-15}if(W.windowBits>=0&&W.windowBits<16&&!(J&&J.windowBits))W.windowBits+=32;if(W.windowBits>15&&W.windowBits<48){if((W.windowBits&15)===0)W.windowBits|=15}this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $6,this.strm.avail_out=0;let Q=n.inflateInit2(this.strm,W.windowBits);if(Q!==y1)throw new Error(V1[Q]);if(this.header=new RQ,n.inflateGetHeader(this.strm,this.header),W.dictionary){if(typeof W.dictionary==="string")W.dictionary=E1.string2buf(W.dictionary);else if(w6.call(W.dictionary)==="[object ArrayBuffer]")W.dictionary=new Uint8Array(W.dictionary);if(W.raw){if(Q=n.inflateSetDictionary(this.strm,W.dictionary),Q!==y1)throw new Error(V1[Q])}}}m1.prototype.push=function(J,W){let Q=this.strm,j=this.options.chunkSize,V=this.options.dictionary,q,G,P;if(this.ended)return!1;if(W===~~W)G=W;else G=W===!0?AQ:DQ;if(w6.call(J)==="[object ArrayBuffer]")Q.input=new Uint8Array(J);else Q.input=J;Q.next_in=0,Q.avail_in=Q.input.length;for(;;){if(Q.avail_out===0)Q.output=new Uint8Array(j),Q.next_out=0,Q.avail_out=j;if(q=n.inflate(Q,G),q===A0&&V){if(q=n.inflateSetDictionary(Q,V),q===y1)q=n.inflate(Q,G);else if(q===e7)q=A0}while(Q.avail_in>0&&q===D0&&Q.state.wrap>0&&J[Q.next_in]!==0)n.inflateReset(Q),q=n.inflate(Q,G);switch(q){case gQ:case e7:case A0:case TQ:return this.onEnd(q),this.ended=!0,!1}if(P=Q.avail_out,Q.next_out){if(Q.avail_out===0||q===D0)if(this.options.to==="string"){let U=E1.utf8border(Q.output,Q.next_out),X=Q.next_out-U,Y=E1.buf2string(Q.output,U);if(Q.next_out=X,Q.avail_out=j-X,X)Q.output.set(Q.output.subarray(U,U+X),0);this.onData(Y)}else this.onData(Q.output.length===Q.next_out?Q.output:Q.output.subarray(0,Q.next_out))}if(q===y1&&P===0)continue;if(q===D0)return q=n.inflateEnd(this.strm),this.onEnd(q),this.ended=!0,!0;if(Q.avail_in===0)break}return!0};m1.prototype.onData=function(J){this.chunks.push(J)};m1.prototype.onEnd=function(J){if(J===y1)if(this.options.to==="string")this.result=this.chunks.join("");else this.result=X0.flattenChunks(this.chunks);this.chunks=[],this.err=J,this.msg=this.strm.msg};function d0(J,W){let Q=new m1(W);if(Q.push(J),Q.err)throw Q.msg||V1[Q.err];return Q.result}function kQ(J,W){return W=W||{},W.raw=!0,d0(J,W)}var xQ=m1,wQ=d0,SQ=kQ,EQ=d0,yQ=P1,pQ={Inflate:xQ,inflate:wQ,inflateRaw:SQ,ungzip:EQ,constants:yQ},{Deflate:hQ,deflate:bQ,deflateRaw:mQ,gzip:uQ}=lJ,{Inflate:fQ,inflate:cQ,inflateRaw:dQ,ungzip:lQ}=pQ,oQ=hQ,iQ=bQ,nQ=mQ,_Q=uQ,aQ=fQ,rQ=cQ,eQ=dQ,tQ=lQ,sQ=P1,S6={Deflate:oQ,deflate:iQ,deflateRaw:nQ,gzip:_Q,Inflate:aQ,inflate:rQ,inflateRaw:eQ,ungzip:tQ,constants:sQ};class E6{#J;#Q;constructor(J="dict/"){this.#J=new e1,this.#Q=J}#W=(J)=>new Promise((W,Q)=>{fetch(J).then(async(j)=>await j.arrayBuffer()).then((j)=>{try{let q=S6.ungzip(j).buffer;W(q)}catch(V){Q(V)}}).catch((j)=>{Q(j)})});load(J){Promise.all(["base.dat.gz","check.dat.gz","tid.dat.gz","tid_pos.dat.gz","tid_map.dat.gz","cc.dat.gz","unk.dat.gz","unk_pos.dat.gz","unk_map.dat.gz","unk_char.dat.gz","unk_compat.dat.gz","unk_invoke.dat.gz"].map((W)=>this.#W(G7.join(this.#Q,W)))).then((W)=>{this.#J.loadTrie(new Int32Array(W[0]),new Int32Array(W[1])),this.#J.loadTokenInfoDictionaries(new Uint8Array(W[2]),new Uint8Array(W[3]),new Uint8Array(W[4])),this.#J.loadConnectionCosts(new Int16Array(W[5])),this.#J.loadUnknownDictionaries(new Uint8Array(W[6]),new Uint8Array(W[7]),new Uint8Array(W[8]),new Uint8Array(W[9]),new Uint32Array(W[10]),new Uint8Array(W[11])),J(null,this.#J)}).catch((W)=>{J(W,this.#J)})}}var y6=E6;class p6{#J;constructor(J={}){this.#J=J.dicPath}build(J){new y6(this.#J).load((Q,j)=>{J(Q,new J7(j))})}}var h6=p6;var J5=/^(\w+)\s+(\d)\s+(\d)\s+(\d)/,Q5=/^(0x[0-9A-F]{4})(?:\s+([^#\s]+))(?:\s+([^#\s]+))*/,W5=/^(0x[0-9A-F]{4})\.\.(0x[0-9A-F]{4})(?:\s+([^#\s]+))(?:\s+([^#\s]+))*/;class b6{char_def;character_category_definition;category_mapping;constructor(){this.char_def=new J1,this.char_def.invoke_definition_map=new a1,this.character_category_definition=[],this.category_mapping=[]}putLine(J){let W=J5.exec(J);if(W!=null){let V=this.character_category_definition.length,q=J1.parseCharCategory(V,W);if(q==null)return;this.character_category_definition.push(q);return}let Q=Q5.exec(J);if(Q!=null){let V=J1.parseCategoryMapping(Q);this.category_mapping.push(V)}let j=W5.exec(J);if(j!=null){let V=J1.parseRangeCategoryMapping(j);this.category_mapping.push(V)}}build(){if(!this.char_def||!this.char_def.invoke_definition_map)throw new Error("No data to build.");return this.char_def.invoke_definition_map.init(this.character_category_definition),this.char_def.initCategoryMappings(this.category_mapping),this.char_def}}var m6=b6;class u6{lines;connection_cost;constructor(){this.lines=0,this.connection_cost=null}putLine(J){if(this.lines===0||!this.connection_cost){let q=J.split(" "),G=Number.parseInt(q[0]),P=Number.parseInt(q[1]);if(G<0||P<0)throw"Parse error of matrix.def";return this.connection_cost=new n1(G,P),this.lines++,this}if(!this.connection_cost)throw"connection_cost is null";let W=J.split(" ");if(W.length!==3)return this;let Q=Number.parseInt(W[0]),j=Number.parseInt(W[1]),V=Number.parseInt(W[2]);if(Q<0||j<0||!Number.isFinite(Q)||!Number.isFinite(j)||this.connection_cost.forward_dimension<=Q||this.connection_cost.backward_dimension<=j)throw"Parse error of matrix.def";return this.connection_cost.put(Q,j,V),this.lines++,this}build(){if(!this.connection_cost)throw"No data to build.";return this.connection_cost}}var f6=u6;class c6{#J;#Q;#W;#j;constructor(){this.#J=[],this.#Q=[],this.#W=new f6,this.#j=new m6}addTokenInfoDictionary(J){let W=J.split(",");return this.#J.push(W),this}putCostMatrixLine(J){return this.#W.putLine(J),this}putCharDefLine(J){return this.#j.putLine(J),this}putUnkDefLine(J){return this.#Q.push(J.split(",")),this}build(){let J=this.buildTokenInfoDictionary();return new e1(J.trie,J.token_info_dictionary,this.#W.build(),this.buildUnknownDictionary())}buildTokenInfoDictionary(){let J=new K1,W=J.buildDictionary(this.#J),Q=this.buildDoubleArray();for(let j in W){let V=W[j],q=Q.lookup(V);J.addMapping(q,Number.parseInt(j))}return{trie:Q,token_info_dictionary:J}}buildUnknownDictionary(){let J=new r1,W=J.buildDictionary(this.#Q),Q=this.#j.build();if(!Q||!Q.invoke_definition_map)throw new Error("CharacterDefinition is not set");J.characterDefinition(Q);for(let j in W){let V=W[j],q=Q.invoke_definition_map.lookup(V);if(!q)throw new Error(`Class name not found: ${V}`);J.addMapping(q,Number.parseInt(j))}return J}buildDoubleArray(){let J=0,W=this.#J.map((j)=>{return{k:j[0],v:J++}});return B1.builder(1048576).build(W)}}var d6=c6;var PW={builder:(J={})=>{return new h6(J)},dictionaryBuilder:()=>{return new d6}};export{PW as default,h6 as TokenizerBuilder,d6 as DictionaryBuilder};

//# debugId=F314517B3EDACCEF64756E2164756E21
//# sourceMappingURL=index.min.js.map
